<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>refl1d.instrument module &#8212; Refl1D 0.7.7.post1533+gc6a0ac1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/haiku-site.css?v=ccbba224" />
    <link rel="stylesheet" type="text/css" href="_static/plot_directive.css" />
    <script src="_static/documentation_options.js?v=132fb2fb"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="index.html">
          <span>Refl1D 0.7.7.post1533+gc6a0ac1 documentation</span></a></h1>
        <h2 class="heading"><span>refl1d.instrument module</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="Top">
      
        <p>
        <a class="uplink" href="index.html">Contents</a>
        </p>

      </div>
      <div class="content" role="main">
        
        
  <section id="module-refl1d.instrument">
<span id="refl1d-instrument-module"></span><h1>refl1d.instrument module<a class="headerlink" href="#module-refl1d.instrument" title="Link to this heading">¶</a></h1>
<p>Reflectometry instrument definitions.</p>
<p>An instrument definition contains all the information necessary to compute
the resolution for a measurement.  See <code class="xref py py-mod docutils literal notranslate"><span class="pre">resolution</span></code> for details.</p>
<p>This module is intended to help define new instrument loaders</p>
<section id="scanning-reflectometers">
<h2>Scanning Reflectometers<a class="headerlink" href="#scanning-reflectometers" title="Link to this heading">¶</a></h2>
<p><a class="reference internal" href="#module-refl1d.instrument" title="refl1d.instrument"><code class="xref py py-mod docutils literal notranslate"><span class="pre">refl1d.instrument</span></code></a> (this module) defines two instrument types:
<a class="reference internal" href="#refl1d.instrument.Monochromatic" title="refl1d.instrument.Monochromatic"><code class="xref py py-class docutils literal notranslate"><span class="pre">Monochromatic</span></code></a> and <a class="reference internal" href="#refl1d.instrument.Pulsed" title="refl1d.instrument.Pulsed"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pulsed</span></code></a>. These represent
generic scanning and time of flight instruments, respectively.</p>
<p>To perform a simulation or load a data set, a measurement geometry must
be defined.  In the following example, we set up the geometry for a
pretend instrument SP:2. The complete geometry needs to include information
to calculate wavelength resolution (wavelength and wavelength dispersion)
as well as angular resolution (slit distances and openings, and perhaps
sample size and sample warp).  In this case, we are using a scanning
monochromatic instrument with slits of 0.1 mm below 0.5° and
opening slits  above 0.5° starting at 0.2 mm.  The monochromatic
instrument assumes a fixed <span class="math notranslate nohighlight">\(\Delta \theta / \theta\)</span> while opening.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">refl1d.names</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">geometry</span> <span class="o">=</span> <span class="n">Monochromatic</span><span class="p">(</span><span class="n">instrument</span><span class="o">=</span><span class="s2">&quot;SP:2&quot;</span><span class="p">,</span> <span class="n">radiation</span><span class="o">=</span><span class="s2">&quot;neutron&quot;</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">wavelength</span><span class="o">=</span><span class="mf">5.0042</span><span class="p">,</span> <span class="n">dLoL</span><span class="o">=</span><span class="mf">0.009</span><span class="p">,</span> <span class="n">d_s1</span><span class="o">=</span><span class="mi">230</span><span class="o">+</span><span class="mi">1856</span><span class="p">,</span> <span class="n">d_s2</span><span class="o">=</span><span class="mi">230</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">Tlo</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">slits_at_Tlo</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">slits_below</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
</pre></div>
</div>
<p>This instrument can be used to  a data file, or generate a
measurement probe for use in modeling or to read in a previously
measured data set or generate a probe for simulation:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">linspace</span><span class="p">,</span> <span class="n">loadtxt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datafile</span> <span class="o">=</span> <span class="n">sample_data</span><span class="p">(</span><span class="s1">&#39;10ndt001.refl&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Q</span><span class="p">,</span> <span class="n">R</span><span class="p">,</span> <span class="n">dR</span> <span class="o">=</span> <span class="n">loadtxt</span><span class="p">(</span><span class="n">datafile</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">probe</span> <span class="o">=</span> <span class="n">geometry</span><span class="o">.</span><span class="n">probe</span><span class="p">(</span><span class="n">Q</span><span class="o">=</span><span class="n">Q</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">dR</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">simulation</span> <span class="o">=</span> <span class="n">geometry</span><span class="o">.</span><span class="n">probe</span><span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">51</span><span class="p">))</span>
</pre></div>
</div>
<p>All instrument parameters can be specified when constructing the probe,
replacing the defaults that are associated with the instrument.  For
example, to include sample broadening effects in the resolution:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">probe2</span> <span class="o">=</span> <span class="n">geometry</span><span class="o">.</span><span class="n">probe</span><span class="p">(</span><span class="n">Q</span><span class="o">=</span><span class="n">Q</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">dR</span><span class="p">),</span> <span class="n">sample_broadening</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">name</span><span class="o">=</span><span class="s2">&quot;probe2&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>For magnetic systems a polarized beam probe is needed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">magnetic_probe</span> <span class="o">=</span> <span class="n">geometry</span><span class="o">.</span><span class="n">magnetic_probe</span><span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
</pre></div>
</div>
<p>The string representation of the geometry prints a multi-line
description of the default instrument configuration:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">geometry</span><span class="p">)</span>
<span class="go">== Instrument SP:2 ==</span>
<span class="go">radiation = neutron at 5.0042 Angstrom with 0.9% resolution</span>
<span class="go">slit distances = 2086 mm and 230 mm</span>
<span class="go">fixed region below 0.5 and above 90 degrees</span>
<span class="go">slit openings at Tlo are 0.2 mm</span>
<span class="go">sample width = 1e+10 mm</span>
<span class="go">sample broadening = 0 degrees</span>
</pre></div>
</div>
</section>
<section id="predefined-instruments">
<h2>Predefined Instruments<a class="headerlink" href="#predefined-instruments" title="Link to this heading">¶</a></h2>
<p>Specific instruments can be defined for each facility.  This saves the users
having to remember details of the instrument geometry.</p>
<p>For example, the above SP:2 instrument could be defined as follows:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">SP2</span><span class="p">(</span><span class="n">Monochromatic</span><span class="p">):</span>
<span class="gp">... </span>   <span class="n">instrument</span> <span class="o">=</span> <span class="s2">&quot;SP:2&quot;</span>
<span class="gp">... </span>   <span class="n">radiation</span> <span class="o">=</span> <span class="s2">&quot;neutron&quot;</span>
<span class="gp">... </span>   <span class="n">wavelength</span> <span class="o">=</span> <span class="mf">5.0042</span>   <span class="c1"># Angstroms</span>
<span class="gp">... </span>   <span class="n">dLoL</span> <span class="o">=</span> <span class="mf">0.009</span>          <span class="c1"># FWHM</span>
<span class="gp">... </span>   <span class="n">d_s1</span> <span class="o">=</span> <span class="mf">230.0</span> <span class="o">+</span> <span class="mf">1856.0</span> <span class="c1"># mm</span>
<span class="gp">... </span>   <span class="n">d_s2</span> <span class="o">=</span> <span class="mf">230.0</span>          <span class="c1"># mm</span>
<span class="gp">... </span>   <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
<span class="gp">... </span>       <span class="n">Q</span><span class="p">,</span> <span class="n">R</span><span class="p">,</span> <span class="n">dR</span> <span class="o">=</span> <span class="n">loadtxt</span><span class="p">(</span><span class="n">datafile</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
<span class="gp">... </span>       <span class="n">probe</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">probe</span><span class="p">(</span><span class="n">Q</span><span class="o">=</span><span class="n">Q</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">dR</span><span class="p">),</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>
<span class="gp">... </span>       <span class="k">return</span> <span class="n">probe</span>
</pre></div>
</div>
<p>This definition can then be used to define the measurement geometry.  We
have added a load method which knows about the facility file format (in
this case, three column ASCII data Q, R, dR) so that we can load a datafile
in a couple of lines of code:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">geometry</span> <span class="o">=</span> <span class="n">SP2</span><span class="p">(</span><span class="n">Tlo</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">slits_at_Tlo</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">slits_below</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">probe3</span> <span class="o">=</span> <span class="n">geometry</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">datafile</span><span class="p">)</span>
</pre></div>
</div>
<p>The defaults() method prints the static components of the geometry:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">SP2</span><span class="o">.</span><span class="n">defaults</span><span class="p">())</span>
<span class="go">== Instrument class SP:2 ==</span>
<span class="go">radiation = neutron at 5.0042 Angstrom with 0.9% resolution</span>
<span class="go">slit distances = 2086 mm and 230 mm</span>
</pre></div>
</div>
</section>
<section id="gui-usage">
<h2>GUI Usage<a class="headerlink" href="#gui-usage" title="Link to this heading">¶</a></h2>
<p>Graphical user interfaces follow different usage patterns from scripts.
Here the emphasis will be on selecting a data set to process, displaying
its default metadata and allowing the user to override it.</p>
<p>File loading should follow the pattern established in reflectometry
reduction, with an extension registry and a fallback scheme whereby
files can be checked in a predefined order.  If the file cannot be
loaded, then the next loader is tried.  This should be extended with
the concept of a magic signature such as those used by graphics and
sound file applications: read the first block and run it through
the signature check before trying to load it.  For unrecognized
extensions, all loaders can be tried.</p>
<p>The file loader should return an instrument instance with metadata
initialized from the file header.  This metadata can be displayed
to the user along with a plot of the data and the resolution.  When
metadata values are changed, the resolution can be recomputed and the
display updated.  When the data set is accepted, the final resolution
calculation can be performed.</p>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="refl1d.instrument.Monochromatic">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">refl1d.instrument.</span></span><span class="sig-name descname"><span class="pre">Monochromatic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refl1d/instrument.html#Monochromatic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.instrument.Monochromatic" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Instrument representation for scanning reflectometers.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><em>instrument</em><span class="classifier">string</span></dt><dd><p>name of the instrument</p>
</dd>
<dt><em>radiation</em><span class="classifier">string | xray or neutron</span></dt><dd><p>source radiation type</p>
</dd>
<dt><em>d_s1</em>, <em>d_s2</em><span class="classifier">float | mm</span></dt><dd><p>distance from sample to pre-sample slits 1 and 2; post-sample
slits are ignored</p>
</dd>
<dt><em>wavelength</em><span class="classifier">float | Å</span></dt><dd><p>wavelength of the instrument</p>
</dd>
<dt><em>dLoL</em><span class="classifier">float</span></dt><dd><p>constant relative wavelength dispersion; wavelength range and
dispersion together determine the bins</p>
</dd>
<dt><em>slits</em><span class="classifier">float OR (float, float) | mm</span></dt><dd><p>fixed slits</p>
</dd>
<dt><em>slits_at_Tlo</em><span class="classifier">float OR (float, float) | mm</span></dt><dd><p>slit 1 and slit 2 openings at Tlo; this can be a scalar if both
slits are open by the same amount, otherwise it is a pair (s1, s2).</p>
</dd>
<dt><em>slits_at_Qlo</em><span class="classifier">float OR (float, float) | mm</span></dt><dd><p>equivalent to slits_at_Tlo, for instruments that are controlled by
Q rather than theta</p>
</dd>
<dt><em>Tlo</em>, <em>Thi</em><span class="classifier">float | °</span></dt><dd><p>range of opening slits, or inf if slits are fixed.</p>
</dd>
<dt><em>Qlo</em>, <em>Qhi</em><span class="classifier">float | Å<sup>-1</sup></span></dt><dd><p>range of opening slits when instrument is controlled by Q.</p>
</dd>
<dt><em>slits_below</em>, <em>slits_above</em><span class="classifier">float OR (float, float) | mm</span></dt><dd><p>slit 1 and slit 2 openings below Tlo and above Thi; again, these
can be scalar if slit 1 and slit 2 are the same, otherwise they
are each a pair (s1, s2).  Below and above default to the values of
the slits at Tlo and Thi respectively.</p>
</dd>
<dt><em>sample_width</em><span class="classifier">float | mm</span></dt><dd><p>width of sample; at low angle with tiny samples, stray neutrons
miss the sample and are not reflected onto the detector, so the
sample itself acts as a slit, therefore the width of the sample
may be needed to compute the resolution correctly</p>
</dd>
<dt><em>sample_broadening</em><span class="classifier">float | ° FWHM</span></dt><dd><p>amount of angular divergence (+) or focusing (-) introduced by
the sample; this is caused by sample warp, and may be read off
of the rocking curve by subtracting (s1+s2)/2/(d_s1-d_s2) from
the FWHM width of the rocking curve</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.instrument.Monochromatic.Thi">
<span class="sig-name descname"><span class="pre">Thi</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">90</span></em><a class="headerlink" href="#refl1d.instrument.Monochromatic.Thi" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.instrument.Monochromatic.Tlo">
<span class="sig-name descname"><span class="pre">Tlo</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">90</span></em><a class="headerlink" href="#refl1d.instrument.Monochromatic.Tlo" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.instrument.Monochromatic.calc_dT">
<span class="sig-name descname"><span class="pre">calc_dT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refl1d/instrument.html#Monochromatic.calc_dT"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.instrument.Monochromatic.calc_dT" title="Link to this definition">¶</a></dt>
<dd><p>Compute the angular divergence for given slits and angles</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><em>T</em> OR <em>Q</em><span class="classifier">[float] | ° OR Å<sup>-1</sup></span></dt><dd><p>measurement angles</p>
</dd>
<dt><em>slits</em><span class="classifier">float OR (float, float) | mm</span></dt><dd><p>total slit opening from edge to edge, not beam center to edge</p>
</dd>
<dt><em>d_s1</em>, <em>d_s2</em><span class="classifier">float | mm</span></dt><dd><p>distance from sample to slit 1 and slit 2</p>
</dd>
<dt><em>sample_width</em><span class="classifier">float | mm</span></dt><dd><p>size of sample</p>
</dd>
<dt><em>sample_broadening</em><span class="classifier">float | ° FWHM</span></dt><dd><p>resolution changes from sample warp</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><em>dT</em><span class="classifier">[float] | ° FWHM</span></dt><dd><p>angular divergence</p>
</dd>
</dl>
</dd>
</dl>
<p><em>sample_broadening</em> can be estimated from W, the full width at half
maximum of a rocking curve measured in degrees:</p>
<blockquote>
<div><p>sample_broadening = W - degrees( 0.5*(s1+s2) / (d1-d2))</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.instrument.Monochromatic.calc_slits">
<span class="sig-name descname"><span class="pre">calc_slits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refl1d/instrument.html#Monochromatic.calc_slits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.instrument.Monochromatic.calc_slits" title="Link to this definition">¶</a></dt>
<dd><p>Determines slit openings from measurement pattern.</p>
<p>If slits are fixed simply return the same slits for every angle,
otherwise use an opening range [Tlo, Thi] and the value of the
slits at the start of the opening to define the slits.  Slits
below Tlo and above Thi can be specified separately.</p>
<p><em>T</em> OR <em>Q</em>       incident angle or Q
<em>Tlo</em>, <em>Thi</em>     angle range over which slits are opening
<em>slits_at_Tlo</em>   openings at the start of the range, or fixed opening
<em>slits_below</em>, <em>slits_above</em>   openings below and above the range</p>
<p>Use fixed_slits is available, otherwise use opening slits.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.instrument.Monochromatic.dLoL">
<span class="sig-name descname"><span class="pre">dLoL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.instrument.Monochromatic.dLoL" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.instrument.Monochromatic.d_s1">
<span class="sig-name descname"><span class="pre">d_s1</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.instrument.Monochromatic.d_s1" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.instrument.Monochromatic.d_s2">
<span class="sig-name descname"><span class="pre">d_s2</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.instrument.Monochromatic.d_s2" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.instrument.Monochromatic.defaults">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">defaults</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/refl1d/instrument.html#Monochromatic.defaults"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.instrument.Monochromatic.defaults" title="Link to this definition">¶</a></dt>
<dd><p>Return default instrument properties as a printable string.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.instrument.Monochromatic.fixed_slits">
<span class="sig-name descname"><span class="pre">fixed_slits</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.instrument.Monochromatic.fixed_slits" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.instrument.Monochromatic.instrument">
<span class="sig-name descname"><span class="pre">instrument</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'monochromatic'</span></em><a class="headerlink" href="#refl1d.instrument.Monochromatic.instrument" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.instrument.Monochromatic.magnetic_probe">
<span class="sig-name descname"><span class="pre">magnetic_probe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Aguide</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">270.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shared_beam</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">H</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refl1d/instrument.html#Monochromatic.magnetic_probe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.instrument.Monochromatic.magnetic_probe" title="Link to this definition">¶</a></dt>
<dd><p>Simulate a polarized measurement probe.</p>
<p>Returns a probe with Q, angle, wavelength and the associated
uncertainties, but not any data.</p>
<p>Guide field angle <em>Aguide</em> can be specified, as well as keyword
arguments for the geometry of the probe cross sections such as
<em>slits_at_Tlo</em>, <em>Tlo</em>, <em>Thi</em>, <em>slits_below</em>, and <em>slits_above</em>
to define the angular divergence.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.instrument.Monochromatic.probe">
<span class="sig-name descname"><span class="pre">probe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refl1d/instrument.html#Monochromatic.probe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.instrument.Monochromatic.probe" title="Link to this definition">¶</a></dt>
<dd><p>Return a probe for use in simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><em>Q</em><span class="classifier">[float] | Å</span></dt><dd><p>Q values to be measured.</p>
</dd>
<dt><em>T</em><span class="classifier">[float] | °</span></dt><dd><p>Angles to be measured.</p>
</dd>
</dl>
</dd>
</dl>
<p>Additional keyword parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><em>probe</em><span class="classifier">Probe</span></dt><dd><p>Measurement probe with complete resolution information.  The
probe will not have any data.</p>
</dd>
</dl>
</dd>
</dl>
<p>If both <em>Q</em> and <em>T</em> are specified then <em>Q</em> takes precedents.</p>
<p>You can override instrument parameters using key=value.  In
particular, settings for <em>slits_at_Tlo</em>, <em>Tlo</em>, <em>Thi</em>,
<em>slits_below</em>, and <em>slits_above</em> are used to define the
angular divergence.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.instrument.Monochromatic.radiation">
<span class="sig-name descname"><span class="pre">radiation</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'unknown'</span></em><a class="headerlink" href="#refl1d.instrument.Monochromatic.radiation" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.instrument.Monochromatic.resolution">
<span class="sig-name descname"><span class="pre">resolution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refl1d/instrument.html#Monochromatic.resolution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.instrument.Monochromatic.resolution" title="Link to this definition">¶</a></dt>
<dd><p>Calculate resolution at each angle.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><em>T</em>, <em>dT</em><span class="classifier">[float] | °</span></dt><dd><p>Angles and angular divergence.</p>
</dd>
<dt><em>L</em>, <em>dL</em><span class="classifier">[float] | Å</span></dt><dd><p>Wavelengths and wavelength dispersion.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.instrument.Monochromatic.sample_broadening">
<span class="sig-name descname"><span class="pre">sample_broadening</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#refl1d.instrument.Monochromatic.sample_broadening" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.instrument.Monochromatic.sample_width">
<span class="sig-name descname"><span class="pre">sample_width</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">10000000000.0</span></em><a class="headerlink" href="#refl1d.instrument.Monochromatic.sample_width" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.instrument.Monochromatic.slits_above">
<span class="sig-name descname"><span class="pre">slits_above</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.instrument.Monochromatic.slits_above" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.instrument.Monochromatic.slits_at_Tlo">
<span class="sig-name descname"><span class="pre">slits_at_Tlo</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.instrument.Monochromatic.slits_at_Tlo" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.instrument.Monochromatic.slits_below">
<span class="sig-name descname"><span class="pre">slits_below</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.instrument.Monochromatic.slits_below" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.instrument.Monochromatic.wavelength">
<span class="sig-name descname"><span class="pre">wavelength</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.instrument.Monochromatic.wavelength" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="refl1d.instrument.Pulsed">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">refl1d.instrument.</span></span><span class="sig-name descname"><span class="pre">Pulsed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refl1d/instrument.html#Pulsed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.instrument.Pulsed" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Instrument representation for pulsed reflectometers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><em>instrument</em><span class="classifier">string</span></dt><dd><p>name of the instrument</p>
</dd>
<dt><em>radiation</em><span class="classifier">string | xray, neutron</span></dt><dd><p>source radiation type</p>
</dd>
<dt><em>TOF_range</em><span class="classifier">(float, float)</span></dt><dd><p>usabe range of times for TOF data</p>
</dd>
<dt><em>T</em><span class="classifier">float | °</span></dt><dd><p>sample angle</p>
</dd>
<dt><em>d_s1</em>, <em>d_s2</em><span class="classifier">float | mm</span></dt><dd><p>distance from sample to pre-sample slits 1 and 2; post-sample
slits are ignored</p>
</dd>
<dt><em>wavelength</em><span class="classifier">(float, float) | Å</span></dt><dd><p>wavelength range for the measurement</p>
</dd>
<dt><em>dLoL</em><span class="classifier">float</span></dt><dd><p>constant relative wavelength dispersion; wavelength range and
dispersion together determine the bins</p>
</dd>
<dt><em>slits</em><span class="classifier">float OR (float, float) | mm</span></dt><dd><p>fixed slits</p>
</dd>
<dt><em>slits_at_Tlo</em><span class="classifier">float OR (float, float) | mm</span></dt><dd><p>slit 1 and slit 2 openings at Tlo; this can be a scalar if both
slits are open by the same amount, otherwise it is a pair (s1, s2).</p>
</dd>
<dt><em>Tlo</em>, <em>Thi</em><span class="classifier">float | °</span></dt><dd><p>range of opening slits, or inf if slits are fixed.</p>
</dd>
<dt><em>slits_below</em>, <em>slits_above</em><span class="classifier">float OR (float, float) | mm</span></dt><dd><p>slit 1 and slit 2 openings below Tlo and above Thi; again, these
can be scalar if slit 1 and slit 2 are the same, otherwise they
are each a pair (s1, s2).  Below and above default to the values of
the slits at Tlo and Thi respectively.</p>
</dd>
<dt><em>sample_width</em><span class="classifier">float | mm</span></dt><dd><p>width of sample; at low angle with tiny samples, stray neutrons
miss the sample and are not reflected onto the detector, so the
sample itself acts as a slit, therefore the width of the sample
may be needed to compute the resolution correctly</p>
</dd>
<dt><em>sample_broadening</em><span class="classifier">float | ° FWHM</span></dt><dd><p>amount of angular divergence (+) or focusing (-) introduced by
the sample; this is caused by sample warp, and may be read off
of the rocking curve by subtracting 0.5*(s1+s2)/(d_s1-d_s2) from
the FWHM width of the rocking curve</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.instrument.Pulsed.T">
<span class="sig-name descname"><span class="pre">T</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.instrument.Pulsed.T" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.instrument.Pulsed.TOF_range">
<span class="sig-name descname"><span class="pre">TOF_range</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">(0,</span> <span class="pre">inf)</span></em><a class="headerlink" href="#refl1d.instrument.Pulsed.TOF_range" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.instrument.Pulsed.Thi">
<span class="sig-name descname"><span class="pre">Thi</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">90</span></em><a class="headerlink" href="#refl1d.instrument.Pulsed.Thi" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.instrument.Pulsed.Tlo">
<span class="sig-name descname"><span class="pre">Tlo</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">90</span></em><a class="headerlink" href="#refl1d.instrument.Pulsed.Tlo" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.instrument.Pulsed.calc_dT">
<span class="sig-name descname"><span class="pre">calc_dT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">T</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slits</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refl1d/instrument.html#Pulsed.calc_dT"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.instrument.Pulsed.calc_dT" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.instrument.Pulsed.calc_slits">
<span class="sig-name descname"><span class="pre">calc_slits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refl1d/instrument.html#Pulsed.calc_slits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.instrument.Pulsed.calc_slits" title="Link to this definition">¶</a></dt>
<dd><p>Determines slit openings from measurement pattern.</p>
<p>If slits are fixed simply return the same slits for every angle,
otherwise use an opening range [Tlo, Thi] and the value of the
slits at the start of the opening to define the slits.  Slits
below Tlo and above Thi can be specified separately.</p>
<p><em>T</em>              incident angle
<em>Tlo</em>, <em>Thi</em>     angle range over which slits are opening
<em>slits_at_Tlo</em>   openings at the start of the range, or fixed opening
<em>slits_below</em>, <em>slits_above</em>   openings below and above the range</p>
<p>Use fixed_slits is available, otherwise use opening slits.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.instrument.Pulsed.dLoL">
<span class="sig-name descname"><span class="pre">dLoL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.instrument.Pulsed.dLoL" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.instrument.Pulsed.d_s1">
<span class="sig-name descname"><span class="pre">d_s1</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.instrument.Pulsed.d_s1" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.instrument.Pulsed.d_s2">
<span class="sig-name descname"><span class="pre">d_s2</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.instrument.Pulsed.d_s2" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.instrument.Pulsed.defaults">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">defaults</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/refl1d/instrument.html#Pulsed.defaults"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.instrument.Pulsed.defaults" title="Link to this definition">¶</a></dt>
<dd><p>Return default instrument properties as a printable string.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.instrument.Pulsed.fixed_slits">
<span class="sig-name descname"><span class="pre">fixed_slits</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.instrument.Pulsed.fixed_slits" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.instrument.Pulsed.instrument">
<span class="sig-name descname"><span class="pre">instrument</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'pulsed'</span></em><a class="headerlink" href="#refl1d.instrument.Pulsed.instrument" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.instrument.Pulsed.magnetic_probe">
<span class="sig-name descname"><span class="pre">magnetic_probe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Aguide</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">270.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shared_beam</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refl1d/instrument.html#Pulsed.magnetic_probe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.instrument.Pulsed.magnetic_probe" title="Link to this definition">¶</a></dt>
<dd><p>Simulate a polarized measurement probe.</p>
<p>Returns a probe with Q, angle, wavelength and the associated
uncertainties, but not any data.</p>
<p>Guide field angle <em>Aguide</em> can be specified, as well as keyword
arguments for the geometry of the probe cross sections such as
slit settings <em>slits</em> and <em>T</em> to define the angular divergence
and <em>dLoL</em> to define the wavelength resolution.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.instrument.Pulsed.probe">
<span class="sig-name descname"><span class="pre">probe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refl1d/instrument.html#Pulsed.probe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.instrument.Pulsed.probe" title="Link to this definition">¶</a></dt>
<dd><p>Simulate a measurement probe.</p>
<p>Returns a probe with Q, angle, wavelength and the associated
uncertainties, but not any data.</p>
<p>You can override instrument parameters using key=value.
In particular, slit settings <em>slits</em> and <em>T</em> define
the angular divergence and <em>dLoL</em> defines the wavelength
resolution.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.instrument.Pulsed.radiation">
<span class="sig-name descname"><span class="pre">radiation</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'neutron'</span></em><a class="headerlink" href="#refl1d.instrument.Pulsed.radiation" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.instrument.Pulsed.resolution">
<span class="sig-name descname"><span class="pre">resolution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">L</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dL</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refl1d/instrument.html#Pulsed.resolution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.instrument.Pulsed.resolution" title="Link to this definition">¶</a></dt>
<dd><p>Return the resolution of the measurement.  Needs <em>T</em>, <em>L</em>, <em>dL</em>
specified as keywords.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.instrument.Pulsed.sample_broadening">
<span class="sig-name descname"><span class="pre">sample_broadening</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#refl1d.instrument.Pulsed.sample_broadening" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.instrument.Pulsed.sample_width">
<span class="sig-name descname"><span class="pre">sample_width</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">10000000000.0</span></em><a class="headerlink" href="#refl1d.instrument.Pulsed.sample_width" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.instrument.Pulsed.simulate">
<span class="sig-name descname"><span class="pre">simulate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uncertainty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/refl1d/instrument.html#Pulsed.simulate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.instrument.Pulsed.simulate" title="Link to this definition">¶</a></dt>
<dd><p>Simulate a run with a particular sample.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><em>sample</em><span class="classifier">Stack</span></dt><dd><p>Reflectometry model</p>
</dd>
<dt><em>T</em><span class="classifier">[float] | °</span></dt><dd><p>List of angles to be measured, such as [0.15, 0.4, 1, 2].</p>
</dd>
<dt><em>slits</em><span class="classifier">[float] or [(float, float)] | mm</span></dt><dd><p>Slit settings for each angle.</p>
</dd>
<dt><em>uncertainty</em> = 1<span class="classifier">float or [float] | %</span></dt><dd><p>Incident intensity is set so that the median dR/R is equal
to <em>uncertainty</em>, where R is the idealized reflectivity
of the sample.</p>
</dd>
<dt><em>dLoL</em> = 0.02: float</dt><dd><p>Wavelength resolution</p>
</dd>
<dt><em>normalize</em> = True<span class="classifier">boolean</span></dt><dd><p>Whether to normalize the intensities</p>
</dd>
<dt><em>theta_offset</em> = 0<span class="classifier">float | °</span></dt><dd><p>Sample alignment error</p>
</dd>
<dt><em>background</em> = 0<span class="classifier">float</span></dt><dd><p>Background counts per incident neutron (background is
assumed to be independent of measurement geometry).</p>
</dd>
<dt><em>back_reflectivity</em> = False<span class="classifier">boolean</span></dt><dd><p>Whether beam travels through incident medium
or through substrate.</p>
</dd>
<dt><em>back_absorption</em> = 1<span class="classifier">float</span></dt><dd><p>Absorption factor for beam traveling through substrate.
Only needed for back reflectivity measurements.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.instrument.Pulsed.slits">
<span class="sig-name descname"><span class="pre">slits</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.instrument.Pulsed.slits" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.instrument.Pulsed.slits_above">
<span class="sig-name descname"><span class="pre">slits_above</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.instrument.Pulsed.slits_above" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.instrument.Pulsed.slits_at_Tlo">
<span class="sig-name descname"><span class="pre">slits_at_Tlo</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.instrument.Pulsed.slits_at_Tlo" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.instrument.Pulsed.slits_below">
<span class="sig-name descname"><span class="pre">slits_below</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.instrument.Pulsed.slits_below" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.instrument.Pulsed.wavelength">
<span class="sig-name descname"><span class="pre">wavelength</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.instrument.Pulsed.wavelength" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>


      </div>
      <div class="bottomnav" role="navigation" aria-label="Bottom">
      
        <p>
        <a class="uplink" href="index.html">Contents</a>
        </p>

      </div>

    <div class="footer" role="contentinfo">
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    </div>
  </body>
</html>