<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>ncnrdata - NCNR Data &#8212; Refl1D 0.7.7.post1533+gc6a0ac1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/haiku-site.css?v=ccbba224" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <script src="../_static/documentation_options.js?v=132fb2fb"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="polymer - Polymer models" href="polymer.html" />
    <link rel="prev" title="names - Public API" href="names.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="../index.html">
          <span>Refl1D 0.7.7.post1533+gc6a0ac1 documentation</span></a></h1>
        <h2 class="heading"><span>ncnrdata - NCNR Data</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="Top">
      
        <p>
        «&#160;&#160;<a href="names.html">names - Public API</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="polymer.html">polymer - Polymer models</a>&#160;&#160;»
        </p>

      </div>
      <div class="content" role="main">
        
        
  <section id="ncnrdata-ncnr-data">
<h1>ncnrdata - NCNR Data<a class="headerlink" href="#ncnrdata-ncnr-data" title="Link to this heading">¶</a></h1>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="../refl1d.ncnrdata.html#refl1d.ncnrdata.ANDR" title="refl1d.ncnrdata.ANDR"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ANDR</span></code></a></p></td>
<td><p>Instrument definition for NCNR AND/R diffractometer/reflectometer.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../refl1d.ncnrdata.html#refl1d.ncnrdata.MAGIK" title="refl1d.ncnrdata.MAGIK"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MAGIK</span></code></a></p></td>
<td><p>Instrument definition for NCNR MAGIK diffractometer/reflectometer.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../refl1d.ncnrdata.html#refl1d.ncnrdata.NCNRData" title="refl1d.ncnrdata.NCNRData"><code class="xref py py-obj docutils literal notranslate"><span class="pre">NCNRData</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../refl1d.ncnrdata.html#refl1d.ncnrdata.NG1" title="refl1d.ncnrdata.NG1"><code class="xref py py-obj docutils literal notranslate"><span class="pre">NG1</span></code></a></p></td>
<td><p>Instrument definition for NCNR NG-1 reflectometer.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../refl1d.ncnrdata.html#refl1d.ncnrdata.NG7" title="refl1d.ncnrdata.NG7"><code class="xref py py-obj docutils literal notranslate"><span class="pre">NG7</span></code></a></p></td>
<td><p>Instrument definition for NCNR NG-7 reflectometer.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../refl1d.ncnrdata.html#refl1d.ncnrdata.PBR" title="refl1d.ncnrdata.PBR"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PBR</span></code></a></p></td>
<td><p>Instrument definition for NCNR PBR reflectometer.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../refl1d.ncnrdata.html#refl1d.ncnrdata.XRay" title="refl1d.ncnrdata.XRay"><code class="xref py py-obj docutils literal notranslate"><span class="pre">XRay</span></code></a></p></td>
<td><p>Instrument definition for NCNR X-ray reflectometer.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../refl1d.ncnrdata.html#refl1d.ncnrdata.find_xsec" title="refl1d.ncnrdata.find_xsec"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_xsec</span></code></a></p></td>
<td><p>Find files containing the polarization cross-sections.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../refl1d.ncnrdata.html#refl1d.ncnrdata.load" title="refl1d.ncnrdata.load"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load</span></code></a></p></td>
<td><p>Return a probe for NCNR data.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../refl1d.ncnrdata.html#refl1d.ncnrdata.load_magnetic" title="refl1d.ncnrdata.load_magnetic"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_magnetic</span></code></a></p></td>
<td><p>Return a probe for magnetic NCNR data.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../refl1d.ncnrdata.html#refl1d.ncnrdata.parse_ncnr_file" title="refl1d.ncnrdata.parse_ncnr_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">parse_ncnr_file</span></code></a></p></td>
<td><p>Parse NCNR reduced data file returning <em>header</em> and <em>data</em>.</p></td>
</tr>
</tbody>
</table>
<p id="module-refl1d.ncnrdata">NCNR data loaders</p>
<p>The following instruments are defined:</p>
<blockquote>
<div><p>MAGIK, PBR, ANDR, NG1, NG7 and XRay</p>
</div></blockquote>
<p>These are <a class="reference internal" href="../refl1d.instrument.html#refl1d.instrument.Monochromatic" title="refl1d.instrument.Monochromatic"><code class="xref py py-class docutils literal notranslate"><span class="pre">refl1d.instrument.Monochromatic</span></code></a> classes tuned with default
instrument parameters and loaders for reduced NCNR data.</p>
<p>The instruments can be used to load data or to compute resolution functions
for the purposes.</p>
<p>Example loading data:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">refl1d.names</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datafile</span> <span class="o">=</span> <span class="n">sample_data</span><span class="p">(</span><span class="s1">&#39;chale207.refl&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">instrument</span> <span class="o">=</span> <span class="n">NCNR</span><span class="o">.</span><span class="n">ANDR</span><span class="p">(</span><span class="n">Tlo</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">slits_at_Tlo</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">slits_below</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">probe</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">datafile</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">probe</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">view</span><span class="o">=</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Magnetic data has multiple cross sections and often has fixed slits:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">datafile</span> <span class="o">=</span> <span class="n">sample_data</span><span class="p">(</span><span class="s1">&#39;lha03_255G.refl&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">instrument</span> <span class="o">=</span> <span class="n">NCNR</span><span class="o">.</span><span class="n">NG1</span><span class="p">(</span><span class="n">slits_at_Tlo</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">probe</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">load_magnetic</span><span class="p">(</span><span class="n">datafile</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">probe</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">view</span><span class="o">=</span><span class="s1">&#39;SA&#39;</span><span class="p">,</span> <span class="n">substrate</span><span class="o">=</span><span class="n">silicon</span><span class="p">)</span> <span class="c1"># Spin asymmetry view</span>
</pre></div>
</div>
<p>For simulation, you need a probe and a sample:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">instrument</span> <span class="o">=</span> <span class="n">NCNR</span><span class="o">.</span><span class="n">ANDR</span><span class="p">(</span><span class="n">Tlo</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">slits_at_Tlo</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">slits_below</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">probe</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">probe</span><span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">51</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">probe</span><span class="o">.</span><span class="n">plot_resolution</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sample</span> <span class="o">=</span> <span class="n">silicon</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="o">|</span> <span class="n">gold</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="o">|</span> <span class="n">air</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span> <span class="o">=</span> <span class="n">Experiment</span><span class="p">(</span><span class="n">probe</span><span class="o">=</span><span class="n">probe</span><span class="p">,</span> <span class="n">sample</span><span class="o">=</span><span class="n">sample</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="o">.</span><span class="n">simulate_data</span><span class="p">()</span> <span class="c1"># Optional</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<p>And for magnetic:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">instrument</span> <span class="o">=</span> <span class="n">NCNR</span><span class="o">.</span><span class="n">NG1</span><span class="p">(</span><span class="n">slits_at_Tlo</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#sample = silicon(0, 10) | Magnetic(permalloy(100, 10), rho_M=3) | air</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#M = Experiment(probe=probe, sample=sample)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#M.simulate_data()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#M.plot()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#probe = instrument.simulate_magnetic(sample, T=np.linspace(0, 5, 51))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#h = pylab.plot(probe.Q, probe.dQ)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#h = pylab.ylabel(&#39;resolution (1-sigma)&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#h = pylab.xlabel(&#39;Q (inv A)&#39;)</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="../refl1d.instrument.html#module-refl1d.instrument" title="refl1d.instrument"><code class="xref py py-mod docutils literal notranslate"><span class="pre">instrument</span></code></a> for details.</p>
<dl class="py class">
<dt class="sig sig-object py" id="refl1d.ncnrdata.ANDR">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">refl1d.ncnrdata.</span></span><span class="sig-name descname"><span class="pre">ANDR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/ncnrdata.html#ANDR"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.ncnrdata.ANDR" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../refl1d.ncnrdata.html#refl1d.ncnrdata.NCNRData" title="refl1d.ncnrdata.NCNRData"><code class="xref py py-class docutils literal notranslate"><span class="pre">NCNRData</span></code></a>, <a class="reference internal" href="../refl1d.instrument.html#refl1d.instrument.Monochromatic" title="refl1d.instrument.Monochromatic"><code class="xref py py-class docutils literal notranslate"><span class="pre">Monochromatic</span></code></a></p>
<p>Instrument definition for NCNR AND/R diffractometer/reflectometer.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.ANDR.Thi">
<span class="sig-name descname"><span class="pre">Thi</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">90</span></em><a class="headerlink" href="#refl1d.ncnrdata.ANDR.Thi" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.ANDR.Tlo">
<span class="sig-name descname"><span class="pre">Tlo</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">90</span></em><a class="headerlink" href="#refl1d.ncnrdata.ANDR.Tlo" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.ANDR.calc_dT">
<span class="sig-name descname"><span class="pre">calc_dT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.ANDR.calc_dT" title="Link to this definition">¶</a></dt>
<dd><p>Compute the angular divergence for given slits and angles</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><em>T</em> OR <em>Q</em><span class="classifier">[float] | ° OR Å<sup>-1</sup></span></dt><dd><p>measurement angles</p>
</dd>
<dt><em>slits</em><span class="classifier">float OR (float, float) | mm</span></dt><dd><p>total slit opening from edge to edge, not beam center to edge</p>
</dd>
<dt><em>d_s1</em>, <em>d_s2</em><span class="classifier">float | mm</span></dt><dd><p>distance from sample to slit 1 and slit 2</p>
</dd>
<dt><em>sample_width</em><span class="classifier">float | mm</span></dt><dd><p>size of sample</p>
</dd>
<dt><em>sample_broadening</em><span class="classifier">float | ° FWHM</span></dt><dd><p>resolution changes from sample warp</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><em>dT</em><span class="classifier">[float] | ° FWHM</span></dt><dd><p>angular divergence</p>
</dd>
</dl>
</dd>
</dl>
<p><em>sample_broadening</em> can be estimated from W, the full width at half
maximum of a rocking curve measured in degrees:</p>
<blockquote>
<div><p>sample_broadening = W - degrees( 0.5*(s1+s2) / (d1-d2))</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.ANDR.calc_slits">
<span class="sig-name descname"><span class="pre">calc_slits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.ANDR.calc_slits" title="Link to this definition">¶</a></dt>
<dd><p>Determines slit openings from measurement pattern.</p>
<p>If slits are fixed simply return the same slits for every angle,
otherwise use an opening range [Tlo, Thi] and the value of the
slits at the start of the opening to define the slits.  Slits
below Tlo and above Thi can be specified separately.</p>
<p><em>T</em> OR <em>Q</em>       incident angle or Q
<em>Tlo</em>, <em>Thi</em>     angle range over which slits are opening
<em>slits_at_Tlo</em>   openings at the start of the range, or fixed opening
<em>slits_below</em>, <em>slits_above</em>   openings below and above the range</p>
<p>Use fixed_slits is available, otherwise use opening slits.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.ANDR.dLoL">
<span class="sig-name descname"><span class="pre">dLoL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.009</span></em><a class="headerlink" href="#refl1d.ncnrdata.ANDR.dLoL" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.ANDR.d_s1">
<span class="sig-name descname"><span class="pre">d_s1</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2086.0</span></em><a class="headerlink" href="#refl1d.ncnrdata.ANDR.d_s1" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.ANDR.d_s2">
<span class="sig-name descname"><span class="pre">d_s2</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">230.0</span></em><a class="headerlink" href="#refl1d.ncnrdata.ANDR.d_s2" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.ANDR.defaults">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">defaults</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.ANDR.defaults" title="Link to this definition">¶</a></dt>
<dd><p>Return default instrument properties as a printable string.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.ANDR.fixed_slits">
<span class="sig-name descname"><span class="pre">fixed_slits</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.ncnrdata.ANDR.fixed_slits" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.ANDR.instrument">
<span class="sig-name descname"><span class="pre">instrument</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'AND/R'</span></em><a class="headerlink" href="#refl1d.ncnrdata.ANDR.instrument" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.ANDR.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.ANDR.load" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.ANDR.load_magnetic">
<span class="sig-name descname"><span class="pre">load_magnetic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.ANDR.load_magnetic" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.ANDR.magnetic_probe">
<span class="sig-name descname"><span class="pre">magnetic_probe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Aguide</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">270.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shared_beam</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">H</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.ANDR.magnetic_probe" title="Link to this definition">¶</a></dt>
<dd><p>Simulate a polarized measurement probe.</p>
<p>Returns a probe with Q, angle, wavelength and the associated
uncertainties, but not any data.</p>
<p>Guide field angle <em>Aguide</em> can be specified, as well as keyword
arguments for the geometry of the probe cross sections such as
<em>slits_at_Tlo</em>, <em>Tlo</em>, <em>Thi</em>, <em>slits_below</em>, and <em>slits_above</em>
to define the angular divergence.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.ANDR.probe">
<span class="sig-name descname"><span class="pre">probe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.ANDR.probe" title="Link to this definition">¶</a></dt>
<dd><p>Return a probe for use in simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><em>Q</em><span class="classifier">[float] | Å</span></dt><dd><p>Q values to be measured.</p>
</dd>
<dt><em>T</em><span class="classifier">[float] | °</span></dt><dd><p>Angles to be measured.</p>
</dd>
</dl>
</dd>
</dl>
<p>Additional keyword parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><em>probe</em><span class="classifier">Probe</span></dt><dd><p>Measurement probe with complete resolution information.  The
probe will not have any data.</p>
</dd>
</dl>
</dd>
</dl>
<p>If both <em>Q</em> and <em>T</em> are specified then <em>Q</em> takes precedents.</p>
<p>You can override instrument parameters using key=value.  In
particular, settings for <em>slits_at_Tlo</em>, <em>Tlo</em>, <em>Thi</em>,
<em>slits_below</em>, and <em>slits_above</em> are used to define the
angular divergence.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.ANDR.radiation">
<span class="sig-name descname"><span class="pre">radiation</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'neutron'</span></em><a class="headerlink" href="#refl1d.ncnrdata.ANDR.radiation" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.ANDR.readfile">
<span class="sig-name descname"><span class="pre">readfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.ANDR.readfile" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.ANDR.resolution">
<span class="sig-name descname"><span class="pre">resolution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.ANDR.resolution" title="Link to this definition">¶</a></dt>
<dd><p>Calculate resolution at each angle.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><em>T</em>, <em>dT</em><span class="classifier">[float] | °</span></dt><dd><p>Angles and angular divergence.</p>
</dd>
<dt><em>L</em>, <em>dL</em><span class="classifier">[float] | Å</span></dt><dd><p>Wavelengths and wavelength dispersion.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.ANDR.sample_broadening">
<span class="sig-name descname"><span class="pre">sample_broadening</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#refl1d.ncnrdata.ANDR.sample_broadening" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.ANDR.sample_width">
<span class="sig-name descname"><span class="pre">sample_width</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">10000000000.0</span></em><a class="headerlink" href="#refl1d.ncnrdata.ANDR.sample_width" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.ANDR.slits_above">
<span class="sig-name descname"><span class="pre">slits_above</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.ncnrdata.ANDR.slits_above" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.ANDR.slits_at_Tlo">
<span class="sig-name descname"><span class="pre">slits_at_Tlo</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.ncnrdata.ANDR.slits_at_Tlo" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.ANDR.slits_below">
<span class="sig-name descname"><span class="pre">slits_below</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.ncnrdata.ANDR.slits_below" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.ANDR.wavelength">
<span class="sig-name descname"><span class="pre">wavelength</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">5.0042</span></em><a class="headerlink" href="#refl1d.ncnrdata.ANDR.wavelength" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="refl1d.ncnrdata.MAGIK">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">refl1d.ncnrdata.</span></span><span class="sig-name descname"><span class="pre">MAGIK</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/ncnrdata.html#MAGIK"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.ncnrdata.MAGIK" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../refl1d.ncnrdata.html#refl1d.ncnrdata.NCNRData" title="refl1d.ncnrdata.NCNRData"><code class="xref py py-class docutils literal notranslate"><span class="pre">NCNRData</span></code></a>, <a class="reference internal" href="../refl1d.instrument.html#refl1d.instrument.Monochromatic" title="refl1d.instrument.Monochromatic"><code class="xref py py-class docutils literal notranslate"><span class="pre">Monochromatic</span></code></a></p>
<p>Instrument definition for NCNR MAGIK diffractometer/reflectometer.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.MAGIK.Thi">
<span class="sig-name descname"><span class="pre">Thi</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">90</span></em><a class="headerlink" href="#refl1d.ncnrdata.MAGIK.Thi" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.MAGIK.Tlo">
<span class="sig-name descname"><span class="pre">Tlo</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">90</span></em><a class="headerlink" href="#refl1d.ncnrdata.MAGIK.Tlo" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.MAGIK.calc_dT">
<span class="sig-name descname"><span class="pre">calc_dT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.MAGIK.calc_dT" title="Link to this definition">¶</a></dt>
<dd><p>Compute the angular divergence for given slits and angles</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><em>T</em> OR <em>Q</em><span class="classifier">[float] | ° OR Å<sup>-1</sup></span></dt><dd><p>measurement angles</p>
</dd>
<dt><em>slits</em><span class="classifier">float OR (float, float) | mm</span></dt><dd><p>total slit opening from edge to edge, not beam center to edge</p>
</dd>
<dt><em>d_s1</em>, <em>d_s2</em><span class="classifier">float | mm</span></dt><dd><p>distance from sample to slit 1 and slit 2</p>
</dd>
<dt><em>sample_width</em><span class="classifier">float | mm</span></dt><dd><p>size of sample</p>
</dd>
<dt><em>sample_broadening</em><span class="classifier">float | ° FWHM</span></dt><dd><p>resolution changes from sample warp</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><em>dT</em><span class="classifier">[float] | ° FWHM</span></dt><dd><p>angular divergence</p>
</dd>
</dl>
</dd>
</dl>
<p><em>sample_broadening</em> can be estimated from W, the full width at half
maximum of a rocking curve measured in degrees:</p>
<blockquote>
<div><p>sample_broadening = W - degrees( 0.5*(s1+s2) / (d1-d2))</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.MAGIK.calc_slits">
<span class="sig-name descname"><span class="pre">calc_slits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.MAGIK.calc_slits" title="Link to this definition">¶</a></dt>
<dd><p>Determines slit openings from measurement pattern.</p>
<p>If slits are fixed simply return the same slits for every angle,
otherwise use an opening range [Tlo, Thi] and the value of the
slits at the start of the opening to define the slits.  Slits
below Tlo and above Thi can be specified separately.</p>
<p><em>T</em> OR <em>Q</em>       incident angle or Q
<em>Tlo</em>, <em>Thi</em>     angle range over which slits are opening
<em>slits_at_Tlo</em>   openings at the start of the range, or fixed opening
<em>slits_below</em>, <em>slits_above</em>   openings below and above the range</p>
<p>Use fixed_slits is available, otherwise use opening slits.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.MAGIK.dLoL">
<span class="sig-name descname"><span class="pre">dLoL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.009</span></em><a class="headerlink" href="#refl1d.ncnrdata.MAGIK.dLoL" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.MAGIK.d_s1">
<span class="sig-name descname"><span class="pre">d_s1</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1759.0</span></em><a class="headerlink" href="#refl1d.ncnrdata.MAGIK.d_s1" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.MAGIK.d_s2">
<span class="sig-name descname"><span class="pre">d_s2</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">330.0</span></em><a class="headerlink" href="#refl1d.ncnrdata.MAGIK.d_s2" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.MAGIK.defaults">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">defaults</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.MAGIK.defaults" title="Link to this definition">¶</a></dt>
<dd><p>Return default instrument properties as a printable string.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.MAGIK.fixed_slits">
<span class="sig-name descname"><span class="pre">fixed_slits</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.ncnrdata.MAGIK.fixed_slits" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.MAGIK.instrument">
<span class="sig-name descname"><span class="pre">instrument</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'MAGIK'</span></em><a class="headerlink" href="#refl1d.ncnrdata.MAGIK.instrument" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.MAGIK.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.MAGIK.load" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.MAGIK.load_magnetic">
<span class="sig-name descname"><span class="pre">load_magnetic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.MAGIK.load_magnetic" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.MAGIK.magnetic_probe">
<span class="sig-name descname"><span class="pre">magnetic_probe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Aguide</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">270.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shared_beam</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">H</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.MAGIK.magnetic_probe" title="Link to this definition">¶</a></dt>
<dd><p>Simulate a polarized measurement probe.</p>
<p>Returns a probe with Q, angle, wavelength and the associated
uncertainties, but not any data.</p>
<p>Guide field angle <em>Aguide</em> can be specified, as well as keyword
arguments for the geometry of the probe cross sections such as
<em>slits_at_Tlo</em>, <em>Tlo</em>, <em>Thi</em>, <em>slits_below</em>, and <em>slits_above</em>
to define the angular divergence.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.MAGIK.probe">
<span class="sig-name descname"><span class="pre">probe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.MAGIK.probe" title="Link to this definition">¶</a></dt>
<dd><p>Return a probe for use in simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><em>Q</em><span class="classifier">[float] | Å</span></dt><dd><p>Q values to be measured.</p>
</dd>
<dt><em>T</em><span class="classifier">[float] | °</span></dt><dd><p>Angles to be measured.</p>
</dd>
</dl>
</dd>
</dl>
<p>Additional keyword parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><em>probe</em><span class="classifier">Probe</span></dt><dd><p>Measurement probe with complete resolution information.  The
probe will not have any data.</p>
</dd>
</dl>
</dd>
</dl>
<p>If both <em>Q</em> and <em>T</em> are specified then <em>Q</em> takes precedents.</p>
<p>You can override instrument parameters using key=value.  In
particular, settings for <em>slits_at_Tlo</em>, <em>Tlo</em>, <em>Thi</em>,
<em>slits_below</em>, and <em>slits_above</em> are used to define the
angular divergence.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.MAGIK.radiation">
<span class="sig-name descname"><span class="pre">radiation</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'neutron'</span></em><a class="headerlink" href="#refl1d.ncnrdata.MAGIK.radiation" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.MAGIK.readfile">
<span class="sig-name descname"><span class="pre">readfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.MAGIK.readfile" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.MAGIK.resolution">
<span class="sig-name descname"><span class="pre">resolution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.MAGIK.resolution" title="Link to this definition">¶</a></dt>
<dd><p>Calculate resolution at each angle.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><em>T</em>, <em>dT</em><span class="classifier">[float] | °</span></dt><dd><p>Angles and angular divergence.</p>
</dd>
<dt><em>L</em>, <em>dL</em><span class="classifier">[float] | Å</span></dt><dd><p>Wavelengths and wavelength dispersion.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.MAGIK.sample_broadening">
<span class="sig-name descname"><span class="pre">sample_broadening</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#refl1d.ncnrdata.MAGIK.sample_broadening" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.MAGIK.sample_width">
<span class="sig-name descname"><span class="pre">sample_width</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">10000000000.0</span></em><a class="headerlink" href="#refl1d.ncnrdata.MAGIK.sample_width" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.MAGIK.slits_above">
<span class="sig-name descname"><span class="pre">slits_above</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.ncnrdata.MAGIK.slits_above" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.MAGIK.slits_at_Tlo">
<span class="sig-name descname"><span class="pre">slits_at_Tlo</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.ncnrdata.MAGIK.slits_at_Tlo" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.MAGIK.slits_below">
<span class="sig-name descname"><span class="pre">slits_below</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.ncnrdata.MAGIK.slits_below" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.MAGIK.wavelength">
<span class="sig-name descname"><span class="pre">wavelength</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">5.0042</span></em><a class="headerlink" href="#refl1d.ncnrdata.MAGIK.wavelength" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NCNRData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">refl1d.ncnrdata.</span></span><span class="sig-name descname"><span class="pre">NCNRData</span></span><a class="reference internal" href="../_modules/refl1d/ncnrdata.html#NCNRData"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.ncnrdata.NCNRData" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NCNRData.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/ncnrdata.html#NCNRData.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.ncnrdata.NCNRData.load" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NCNRData.load_magnetic">
<span class="sig-name descname"><span class="pre">load_magnetic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/ncnrdata.html#NCNRData.load_magnetic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.ncnrdata.NCNRData.load_magnetic" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NCNRData.readfile">
<span class="sig-name descname"><span class="pre">readfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/ncnrdata.html#NCNRData.readfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.ncnrdata.NCNRData.readfile" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG1">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">refl1d.ncnrdata.</span></span><span class="sig-name descname"><span class="pre">NG1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/ncnrdata.html#NG1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.ncnrdata.NG1" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../refl1d.ncnrdata.html#refl1d.ncnrdata.NCNRData" title="refl1d.ncnrdata.NCNRData"><code class="xref py py-class docutils literal notranslate"><span class="pre">NCNRData</span></code></a>, <a class="reference internal" href="../refl1d.instrument.html#refl1d.instrument.Monochromatic" title="refl1d.instrument.Monochromatic"><code class="xref py py-class docutils literal notranslate"><span class="pre">Monochromatic</span></code></a></p>
<p>Instrument definition for NCNR NG-1 reflectometer.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG1.Thi">
<span class="sig-name descname"><span class="pre">Thi</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">90</span></em><a class="headerlink" href="#refl1d.ncnrdata.NG1.Thi" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG1.Tlo">
<span class="sig-name descname"><span class="pre">Tlo</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">90</span></em><a class="headerlink" href="#refl1d.ncnrdata.NG1.Tlo" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG1.calc_dT">
<span class="sig-name descname"><span class="pre">calc_dT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.NG1.calc_dT" title="Link to this definition">¶</a></dt>
<dd><p>Compute the angular divergence for given slits and angles</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><em>T</em> OR <em>Q</em><span class="classifier">[float] | ° OR Å<sup>-1</sup></span></dt><dd><p>measurement angles</p>
</dd>
<dt><em>slits</em><span class="classifier">float OR (float, float) | mm</span></dt><dd><p>total slit opening from edge to edge, not beam center to edge</p>
</dd>
<dt><em>d_s1</em>, <em>d_s2</em><span class="classifier">float | mm</span></dt><dd><p>distance from sample to slit 1 and slit 2</p>
</dd>
<dt><em>sample_width</em><span class="classifier">float | mm</span></dt><dd><p>size of sample</p>
</dd>
<dt><em>sample_broadening</em><span class="classifier">float | ° FWHM</span></dt><dd><p>resolution changes from sample warp</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><em>dT</em><span class="classifier">[float] | ° FWHM</span></dt><dd><p>angular divergence</p>
</dd>
</dl>
</dd>
</dl>
<p><em>sample_broadening</em> can be estimated from W, the full width at half
maximum of a rocking curve measured in degrees:</p>
<blockquote>
<div><p>sample_broadening = W - degrees( 0.5*(s1+s2) / (d1-d2))</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG1.calc_slits">
<span class="sig-name descname"><span class="pre">calc_slits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.NG1.calc_slits" title="Link to this definition">¶</a></dt>
<dd><p>Determines slit openings from measurement pattern.</p>
<p>If slits are fixed simply return the same slits for every angle,
otherwise use an opening range [Tlo, Thi] and the value of the
slits at the start of the opening to define the slits.  Slits
below Tlo and above Thi can be specified separately.</p>
<p><em>T</em> OR <em>Q</em>       incident angle or Q
<em>Tlo</em>, <em>Thi</em>     angle range over which slits are opening
<em>slits_at_Tlo</em>   openings at the start of the range, or fixed opening
<em>slits_below</em>, <em>slits_above</em>   openings below and above the range</p>
<p>Use fixed_slits is available, otherwise use opening slits.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG1.dLoL">
<span class="sig-name descname"><span class="pre">dLoL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.015</span></em><a class="headerlink" href="#refl1d.ncnrdata.NG1.dLoL" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG1.d_s1">
<span class="sig-name descname"><span class="pre">d_s1</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1905.0</span></em><a class="headerlink" href="#refl1d.ncnrdata.NG1.d_s1" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG1.d_s2">
<span class="sig-name descname"><span class="pre">d_s2</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">355.59999999999997</span></em><a class="headerlink" href="#refl1d.ncnrdata.NG1.d_s2" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG1.d_s3">
<span class="sig-name descname"><span class="pre">d_s3</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">228.6</span></em><a class="headerlink" href="#refl1d.ncnrdata.NG1.d_s3" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG1.d_s4">
<span class="sig-name descname"><span class="pre">d_s4</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1066.8</span></em><a class="headerlink" href="#refl1d.ncnrdata.NG1.d_s4" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG1.defaults">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">defaults</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.NG1.defaults" title="Link to this definition">¶</a></dt>
<dd><p>Return default instrument properties as a printable string.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG1.fixed_slits">
<span class="sig-name descname"><span class="pre">fixed_slits</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.ncnrdata.NG1.fixed_slits" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG1.instrument">
<span class="sig-name descname"><span class="pre">instrument</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'NG-1'</span></em><a class="headerlink" href="#refl1d.ncnrdata.NG1.instrument" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG1.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.NG1.load" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG1.load_magnetic">
<span class="sig-name descname"><span class="pre">load_magnetic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.NG1.load_magnetic" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG1.magnetic_probe">
<span class="sig-name descname"><span class="pre">magnetic_probe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Aguide</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">270.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shared_beam</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">H</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.NG1.magnetic_probe" title="Link to this definition">¶</a></dt>
<dd><p>Simulate a polarized measurement probe.</p>
<p>Returns a probe with Q, angle, wavelength and the associated
uncertainties, but not any data.</p>
<p>Guide field angle <em>Aguide</em> can be specified, as well as keyword
arguments for the geometry of the probe cross sections such as
<em>slits_at_Tlo</em>, <em>Tlo</em>, <em>Thi</em>, <em>slits_below</em>, and <em>slits_above</em>
to define the angular divergence.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG1.probe">
<span class="sig-name descname"><span class="pre">probe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.NG1.probe" title="Link to this definition">¶</a></dt>
<dd><p>Return a probe for use in simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><em>Q</em><span class="classifier">[float] | Å</span></dt><dd><p>Q values to be measured.</p>
</dd>
<dt><em>T</em><span class="classifier">[float] | °</span></dt><dd><p>Angles to be measured.</p>
</dd>
</dl>
</dd>
</dl>
<p>Additional keyword parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><em>probe</em><span class="classifier">Probe</span></dt><dd><p>Measurement probe with complete resolution information.  The
probe will not have any data.</p>
</dd>
</dl>
</dd>
</dl>
<p>If both <em>Q</em> and <em>T</em> are specified then <em>Q</em> takes precedents.</p>
<p>You can override instrument parameters using key=value.  In
particular, settings for <em>slits_at_Tlo</em>, <em>Tlo</em>, <em>Thi</em>,
<em>slits_below</em>, and <em>slits_above</em> are used to define the
angular divergence.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG1.radiation">
<span class="sig-name descname"><span class="pre">radiation</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'neutron'</span></em><a class="headerlink" href="#refl1d.ncnrdata.NG1.radiation" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG1.readfile">
<span class="sig-name descname"><span class="pre">readfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.NG1.readfile" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG1.resolution">
<span class="sig-name descname"><span class="pre">resolution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.NG1.resolution" title="Link to this definition">¶</a></dt>
<dd><p>Calculate resolution at each angle.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><em>T</em>, <em>dT</em><span class="classifier">[float] | °</span></dt><dd><p>Angles and angular divergence.</p>
</dd>
<dt><em>L</em>, <em>dL</em><span class="classifier">[float] | Å</span></dt><dd><p>Wavelengths and wavelength dispersion.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG1.sample_broadening">
<span class="sig-name descname"><span class="pre">sample_broadening</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#refl1d.ncnrdata.NG1.sample_broadening" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG1.sample_width">
<span class="sig-name descname"><span class="pre">sample_width</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">10000000000.0</span></em><a class="headerlink" href="#refl1d.ncnrdata.NG1.sample_width" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG1.slits_above">
<span class="sig-name descname"><span class="pre">slits_above</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.ncnrdata.NG1.slits_above" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG1.slits_at_Tlo">
<span class="sig-name descname"><span class="pre">slits_at_Tlo</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.ncnrdata.NG1.slits_at_Tlo" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG1.slits_below">
<span class="sig-name descname"><span class="pre">slits_below</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.ncnrdata.NG1.slits_below" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG1.wavelength">
<span class="sig-name descname"><span class="pre">wavelength</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">4.75</span></em><a class="headerlink" href="#refl1d.ncnrdata.NG1.wavelength" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG7">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">refl1d.ncnrdata.</span></span><span class="sig-name descname"><span class="pre">NG7</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/ncnrdata.html#NG7"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.ncnrdata.NG7" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../refl1d.ncnrdata.html#refl1d.ncnrdata.NCNRData" title="refl1d.ncnrdata.NCNRData"><code class="xref py py-class docutils literal notranslate"><span class="pre">NCNRData</span></code></a>, <a class="reference internal" href="../refl1d.instrument.html#refl1d.instrument.Monochromatic" title="refl1d.instrument.Monochromatic"><code class="xref py py-class docutils literal notranslate"><span class="pre">Monochromatic</span></code></a></p>
<p>Instrument definition for NCNR NG-7 reflectometer.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG7.Thi">
<span class="sig-name descname"><span class="pre">Thi</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">90</span></em><a class="headerlink" href="#refl1d.ncnrdata.NG7.Thi" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG7.Tlo">
<span class="sig-name descname"><span class="pre">Tlo</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">90</span></em><a class="headerlink" href="#refl1d.ncnrdata.NG7.Tlo" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG7.calc_dT">
<span class="sig-name descname"><span class="pre">calc_dT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.NG7.calc_dT" title="Link to this definition">¶</a></dt>
<dd><p>Compute the angular divergence for given slits and angles</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><em>T</em> OR <em>Q</em><span class="classifier">[float] | ° OR Å<sup>-1</sup></span></dt><dd><p>measurement angles</p>
</dd>
<dt><em>slits</em><span class="classifier">float OR (float, float) | mm</span></dt><dd><p>total slit opening from edge to edge, not beam center to edge</p>
</dd>
<dt><em>d_s1</em>, <em>d_s2</em><span class="classifier">float | mm</span></dt><dd><p>distance from sample to slit 1 and slit 2</p>
</dd>
<dt><em>sample_width</em><span class="classifier">float | mm</span></dt><dd><p>size of sample</p>
</dd>
<dt><em>sample_broadening</em><span class="classifier">float | ° FWHM</span></dt><dd><p>resolution changes from sample warp</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><em>dT</em><span class="classifier">[float] | ° FWHM</span></dt><dd><p>angular divergence</p>
</dd>
</dl>
</dd>
</dl>
<p><em>sample_broadening</em> can be estimated from W, the full width at half
maximum of a rocking curve measured in degrees:</p>
<blockquote>
<div><p>sample_broadening = W - degrees( 0.5*(s1+s2) / (d1-d2))</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG7.calc_slits">
<span class="sig-name descname"><span class="pre">calc_slits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.NG7.calc_slits" title="Link to this definition">¶</a></dt>
<dd><p>Determines slit openings from measurement pattern.</p>
<p>If slits are fixed simply return the same slits for every angle,
otherwise use an opening range [Tlo, Thi] and the value of the
slits at the start of the opening to define the slits.  Slits
below Tlo and above Thi can be specified separately.</p>
<p><em>T</em> OR <em>Q</em>       incident angle or Q
<em>Tlo</em>, <em>Thi</em>     angle range over which slits are opening
<em>slits_at_Tlo</em>   openings at the start of the range, or fixed opening
<em>slits_below</em>, <em>slits_above</em>   openings below and above the range</p>
<p>Use fixed_slits is available, otherwise use opening slits.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG7.dLoL">
<span class="sig-name descname"><span class="pre">dLoL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.025</span></em><a class="headerlink" href="#refl1d.ncnrdata.NG7.dLoL" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG7.d_detector">
<span class="sig-name descname"><span class="pre">d_detector</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2000.0</span></em><a class="headerlink" href="#refl1d.ncnrdata.NG7.d_detector" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG7.d_s1">
<span class="sig-name descname"><span class="pre">d_s1</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1722.25</span></em><a class="headerlink" href="#refl1d.ncnrdata.NG7.d_s1" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG7.d_s2">
<span class="sig-name descname"><span class="pre">d_s2</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">222.25</span></em><a class="headerlink" href="#refl1d.ncnrdata.NG7.d_s2" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG7.defaults">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">defaults</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.NG7.defaults" title="Link to this definition">¶</a></dt>
<dd><p>Return default instrument properties as a printable string.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG7.fixed_slits">
<span class="sig-name descname"><span class="pre">fixed_slits</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.ncnrdata.NG7.fixed_slits" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG7.instrument">
<span class="sig-name descname"><span class="pre">instrument</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'NG-7'</span></em><a class="headerlink" href="#refl1d.ncnrdata.NG7.instrument" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG7.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.NG7.load" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG7.load_magnetic">
<span class="sig-name descname"><span class="pre">load_magnetic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.NG7.load_magnetic" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG7.magnetic_probe">
<span class="sig-name descname"><span class="pre">magnetic_probe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Aguide</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">270.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shared_beam</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">H</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.NG7.magnetic_probe" title="Link to this definition">¶</a></dt>
<dd><p>Simulate a polarized measurement probe.</p>
<p>Returns a probe with Q, angle, wavelength and the associated
uncertainties, but not any data.</p>
<p>Guide field angle <em>Aguide</em> can be specified, as well as keyword
arguments for the geometry of the probe cross sections such as
<em>slits_at_Tlo</em>, <em>Tlo</em>, <em>Thi</em>, <em>slits_below</em>, and <em>slits_above</em>
to define the angular divergence.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG7.probe">
<span class="sig-name descname"><span class="pre">probe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.NG7.probe" title="Link to this definition">¶</a></dt>
<dd><p>Return a probe for use in simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><em>Q</em><span class="classifier">[float] | Å</span></dt><dd><p>Q values to be measured.</p>
</dd>
<dt><em>T</em><span class="classifier">[float] | °</span></dt><dd><p>Angles to be measured.</p>
</dd>
</dl>
</dd>
</dl>
<p>Additional keyword parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><em>probe</em><span class="classifier">Probe</span></dt><dd><p>Measurement probe with complete resolution information.  The
probe will not have any data.</p>
</dd>
</dl>
</dd>
</dl>
<p>If both <em>Q</em> and <em>T</em> are specified then <em>Q</em> takes precedents.</p>
<p>You can override instrument parameters using key=value.  In
particular, settings for <em>slits_at_Tlo</em>, <em>Tlo</em>, <em>Thi</em>,
<em>slits_below</em>, and <em>slits_above</em> are used to define the
angular divergence.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG7.radiation">
<span class="sig-name descname"><span class="pre">radiation</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'neutron'</span></em><a class="headerlink" href="#refl1d.ncnrdata.NG7.radiation" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG7.readfile">
<span class="sig-name descname"><span class="pre">readfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.NG7.readfile" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG7.resolution">
<span class="sig-name descname"><span class="pre">resolution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.NG7.resolution" title="Link to this definition">¶</a></dt>
<dd><p>Calculate resolution at each angle.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><em>T</em>, <em>dT</em><span class="classifier">[float] | °</span></dt><dd><p>Angles and angular divergence.</p>
</dd>
<dt><em>L</em>, <em>dL</em><span class="classifier">[float] | Å</span></dt><dd><p>Wavelengths and wavelength dispersion.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG7.sample_broadening">
<span class="sig-name descname"><span class="pre">sample_broadening</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#refl1d.ncnrdata.NG7.sample_broadening" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG7.sample_width">
<span class="sig-name descname"><span class="pre">sample_width</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">10000000000.0</span></em><a class="headerlink" href="#refl1d.ncnrdata.NG7.sample_width" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG7.slits_above">
<span class="sig-name descname"><span class="pre">slits_above</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.ncnrdata.NG7.slits_above" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG7.slits_at_Tlo">
<span class="sig-name descname"><span class="pre">slits_at_Tlo</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.ncnrdata.NG7.slits_at_Tlo" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG7.slits_below">
<span class="sig-name descname"><span class="pre">slits_below</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.ncnrdata.NG7.slits_below" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.NG7.wavelength">
<span class="sig-name descname"><span class="pre">wavelength</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">4.768</span></em><a class="headerlink" href="#refl1d.ncnrdata.NG7.wavelength" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="refl1d.ncnrdata.PBR">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">refl1d.ncnrdata.</span></span><span class="sig-name descname"><span class="pre">PBR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/ncnrdata.html#PBR"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.ncnrdata.PBR" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../refl1d.ncnrdata.html#refl1d.ncnrdata.NCNRData" title="refl1d.ncnrdata.NCNRData"><code class="xref py py-class docutils literal notranslate"><span class="pre">NCNRData</span></code></a>, <a class="reference internal" href="../refl1d.instrument.html#refl1d.instrument.Monochromatic" title="refl1d.instrument.Monochromatic"><code class="xref py py-class docutils literal notranslate"><span class="pre">Monochromatic</span></code></a></p>
<p>Instrument definition for NCNR PBR reflectometer.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.PBR.Thi">
<span class="sig-name descname"><span class="pre">Thi</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">90</span></em><a class="headerlink" href="#refl1d.ncnrdata.PBR.Thi" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.PBR.Tlo">
<span class="sig-name descname"><span class="pre">Tlo</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">90</span></em><a class="headerlink" href="#refl1d.ncnrdata.PBR.Tlo" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.PBR.calc_dT">
<span class="sig-name descname"><span class="pre">calc_dT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.PBR.calc_dT" title="Link to this definition">¶</a></dt>
<dd><p>Compute the angular divergence for given slits and angles</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><em>T</em> OR <em>Q</em><span class="classifier">[float] | ° OR Å<sup>-1</sup></span></dt><dd><p>measurement angles</p>
</dd>
<dt><em>slits</em><span class="classifier">float OR (float, float) | mm</span></dt><dd><p>total slit opening from edge to edge, not beam center to edge</p>
</dd>
<dt><em>d_s1</em>, <em>d_s2</em><span class="classifier">float | mm</span></dt><dd><p>distance from sample to slit 1 and slit 2</p>
</dd>
<dt><em>sample_width</em><span class="classifier">float | mm</span></dt><dd><p>size of sample</p>
</dd>
<dt><em>sample_broadening</em><span class="classifier">float | ° FWHM</span></dt><dd><p>resolution changes from sample warp</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><em>dT</em><span class="classifier">[float] | ° FWHM</span></dt><dd><p>angular divergence</p>
</dd>
</dl>
</dd>
</dl>
<p><em>sample_broadening</em> can be estimated from W, the full width at half
maximum of a rocking curve measured in degrees:</p>
<blockquote>
<div><p>sample_broadening = W - degrees( 0.5*(s1+s2) / (d1-d2))</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.PBR.calc_slits">
<span class="sig-name descname"><span class="pre">calc_slits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.PBR.calc_slits" title="Link to this definition">¶</a></dt>
<dd><p>Determines slit openings from measurement pattern.</p>
<p>If slits are fixed simply return the same slits for every angle,
otherwise use an opening range [Tlo, Thi] and the value of the
slits at the start of the opening to define the slits.  Slits
below Tlo and above Thi can be specified separately.</p>
<p><em>T</em> OR <em>Q</em>       incident angle or Q
<em>Tlo</em>, <em>Thi</em>     angle range over which slits are opening
<em>slits_at_Tlo</em>   openings at the start of the range, or fixed opening
<em>slits_below</em>, <em>slits_above</em>   openings below and above the range</p>
<p>Use fixed_slits is available, otherwise use opening slits.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.PBR.dLoL">
<span class="sig-name descname"><span class="pre">dLoL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.015</span></em><a class="headerlink" href="#refl1d.ncnrdata.PBR.dLoL" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.PBR.d_s1">
<span class="sig-name descname"><span class="pre">d_s1</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1835</span></em><a class="headerlink" href="#refl1d.ncnrdata.PBR.d_s1" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.PBR.d_s2">
<span class="sig-name descname"><span class="pre">d_s2</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">343</span></em><a class="headerlink" href="#refl1d.ncnrdata.PBR.d_s2" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.PBR.d_s3">
<span class="sig-name descname"><span class="pre">d_s3</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">380</span></em><a class="headerlink" href="#refl1d.ncnrdata.PBR.d_s3" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.PBR.d_s4">
<span class="sig-name descname"><span class="pre">d_s4</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1015</span></em><a class="headerlink" href="#refl1d.ncnrdata.PBR.d_s4" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.PBR.defaults">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">defaults</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.PBR.defaults" title="Link to this definition">¶</a></dt>
<dd><p>Return default instrument properties as a printable string.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.PBR.fixed_slits">
<span class="sig-name descname"><span class="pre">fixed_slits</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.ncnrdata.PBR.fixed_slits" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.PBR.instrument">
<span class="sig-name descname"><span class="pre">instrument</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'PBR'</span></em><a class="headerlink" href="#refl1d.ncnrdata.PBR.instrument" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.PBR.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.PBR.load" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.PBR.load_magnetic">
<span class="sig-name descname"><span class="pre">load_magnetic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.PBR.load_magnetic" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.PBR.magnetic_probe">
<span class="sig-name descname"><span class="pre">magnetic_probe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Aguide</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">270.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shared_beam</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">H</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.PBR.magnetic_probe" title="Link to this definition">¶</a></dt>
<dd><p>Simulate a polarized measurement probe.</p>
<p>Returns a probe with Q, angle, wavelength and the associated
uncertainties, but not any data.</p>
<p>Guide field angle <em>Aguide</em> can be specified, as well as keyword
arguments for the geometry of the probe cross sections such as
<em>slits_at_Tlo</em>, <em>Tlo</em>, <em>Thi</em>, <em>slits_below</em>, and <em>slits_above</em>
to define the angular divergence.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.PBR.probe">
<span class="sig-name descname"><span class="pre">probe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.PBR.probe" title="Link to this definition">¶</a></dt>
<dd><p>Return a probe for use in simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><em>Q</em><span class="classifier">[float] | Å</span></dt><dd><p>Q values to be measured.</p>
</dd>
<dt><em>T</em><span class="classifier">[float] | °</span></dt><dd><p>Angles to be measured.</p>
</dd>
</dl>
</dd>
</dl>
<p>Additional keyword parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><em>probe</em><span class="classifier">Probe</span></dt><dd><p>Measurement probe with complete resolution information.  The
probe will not have any data.</p>
</dd>
</dl>
</dd>
</dl>
<p>If both <em>Q</em> and <em>T</em> are specified then <em>Q</em> takes precedents.</p>
<p>You can override instrument parameters using key=value.  In
particular, settings for <em>slits_at_Tlo</em>, <em>Tlo</em>, <em>Thi</em>,
<em>slits_below</em>, and <em>slits_above</em> are used to define the
angular divergence.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.PBR.radiation">
<span class="sig-name descname"><span class="pre">radiation</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'neutron'</span></em><a class="headerlink" href="#refl1d.ncnrdata.PBR.radiation" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.PBR.readfile">
<span class="sig-name descname"><span class="pre">readfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.PBR.readfile" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.PBR.resolution">
<span class="sig-name descname"><span class="pre">resolution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.PBR.resolution" title="Link to this definition">¶</a></dt>
<dd><p>Calculate resolution at each angle.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><em>T</em>, <em>dT</em><span class="classifier">[float] | °</span></dt><dd><p>Angles and angular divergence.</p>
</dd>
<dt><em>L</em>, <em>dL</em><span class="classifier">[float] | Å</span></dt><dd><p>Wavelengths and wavelength dispersion.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.PBR.sample_broadening">
<span class="sig-name descname"><span class="pre">sample_broadening</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#refl1d.ncnrdata.PBR.sample_broadening" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.PBR.sample_width">
<span class="sig-name descname"><span class="pre">sample_width</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">10000000000.0</span></em><a class="headerlink" href="#refl1d.ncnrdata.PBR.sample_width" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.PBR.slits_above">
<span class="sig-name descname"><span class="pre">slits_above</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.ncnrdata.PBR.slits_above" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.PBR.slits_at_Tlo">
<span class="sig-name descname"><span class="pre">slits_at_Tlo</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.ncnrdata.PBR.slits_at_Tlo" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.PBR.slits_below">
<span class="sig-name descname"><span class="pre">slits_below</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.ncnrdata.PBR.slits_below" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.PBR.wavelength">
<span class="sig-name descname"><span class="pre">wavelength</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">4.75</span></em><a class="headerlink" href="#refl1d.ncnrdata.PBR.wavelength" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="refl1d.ncnrdata.XRay">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">refl1d.ncnrdata.</span></span><span class="sig-name descname"><span class="pre">XRay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/ncnrdata.html#XRay"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.ncnrdata.XRay" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../refl1d.ncnrdata.html#refl1d.ncnrdata.NCNRData" title="refl1d.ncnrdata.NCNRData"><code class="xref py py-class docutils literal notranslate"><span class="pre">NCNRData</span></code></a>, <a class="reference internal" href="../refl1d.instrument.html#refl1d.instrument.Monochromatic" title="refl1d.instrument.Monochromatic"><code class="xref py py-class docutils literal notranslate"><span class="pre">Monochromatic</span></code></a></p>
<p>Instrument definition for NCNR X-ray reflectometer.</p>
<p>Normal dT is in the range 2e-5 to 3e-4.</p>
<p>Slits are fixed throughout the experiment in one of a
few preconfigured openings.  Please update this file with
the standard configurations when you find them.</p>
<p>You can choose to ignore the geometric calculation entirely
by setting the slit opening to 0 and using sample_broadening
to define the entire divergence.  Note that Probe.sample_broadening
is a fittable parameter, so you need to access its value:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">refl1d.names</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">file</span> <span class="o">=</span> <span class="n">sample_data</span><span class="p">(</span><span class="s2">&quot;spin_valve01.refl&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xray</span> <span class="o">=</span> <span class="n">NCNR</span><span class="o">.</span><span class="n">XRay</span><span class="p">(</span><span class="n">slits_at_Tlo</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">xray</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">sample_broadening</span><span class="o">=</span><span class="mf">1e-4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">sample_broadening</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="go">0.0001</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.XRay.Thi">
<span class="sig-name descname"><span class="pre">Thi</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">90</span></em><a class="headerlink" href="#refl1d.ncnrdata.XRay.Thi" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.XRay.Tlo">
<span class="sig-name descname"><span class="pre">Tlo</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">90</span></em><a class="headerlink" href="#refl1d.ncnrdata.XRay.Tlo" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.XRay.calc_dT">
<span class="sig-name descname"><span class="pre">calc_dT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.XRay.calc_dT" title="Link to this definition">¶</a></dt>
<dd><p>Compute the angular divergence for given slits and angles</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><em>T</em> OR <em>Q</em><span class="classifier">[float] | ° OR Å<sup>-1</sup></span></dt><dd><p>measurement angles</p>
</dd>
<dt><em>slits</em><span class="classifier">float OR (float, float) | mm</span></dt><dd><p>total slit opening from edge to edge, not beam center to edge</p>
</dd>
<dt><em>d_s1</em>, <em>d_s2</em><span class="classifier">float | mm</span></dt><dd><p>distance from sample to slit 1 and slit 2</p>
</dd>
<dt><em>sample_width</em><span class="classifier">float | mm</span></dt><dd><p>size of sample</p>
</dd>
<dt><em>sample_broadening</em><span class="classifier">float | ° FWHM</span></dt><dd><p>resolution changes from sample warp</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><em>dT</em><span class="classifier">[float] | ° FWHM</span></dt><dd><p>angular divergence</p>
</dd>
</dl>
</dd>
</dl>
<p><em>sample_broadening</em> can be estimated from W, the full width at half
maximum of a rocking curve measured in degrees:</p>
<blockquote>
<div><p>sample_broadening = W - degrees( 0.5*(s1+s2) / (d1-d2))</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.XRay.calc_slits">
<span class="sig-name descname"><span class="pre">calc_slits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.XRay.calc_slits" title="Link to this definition">¶</a></dt>
<dd><p>Determines slit openings from measurement pattern.</p>
<p>If slits are fixed simply return the same slits for every angle,
otherwise use an opening range [Tlo, Thi] and the value of the
slits at the start of the opening to define the slits.  Slits
below Tlo and above Thi can be specified separately.</p>
<p><em>T</em> OR <em>Q</em>       incident angle or Q
<em>Tlo</em>, <em>Thi</em>     angle range over which slits are opening
<em>slits_at_Tlo</em>   openings at the start of the range, or fixed opening
<em>slits_below</em>, <em>slits_above</em>   openings below and above the range</p>
<p>Use fixed_slits is available, otherwise use opening slits.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.XRay.dLoL">
<span class="sig-name descname"><span class="pre">dLoL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.0006486766995329528</span></em><a class="headerlink" href="#refl1d.ncnrdata.XRay.dLoL" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.XRay.d_detector">
<span class="sig-name descname"><span class="pre">d_detector</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.ncnrdata.XRay.d_detector" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.XRay.d_s1">
<span class="sig-name descname"><span class="pre">d_s1</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">275.5</span></em><a class="headerlink" href="#refl1d.ncnrdata.XRay.d_s1" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.XRay.d_s2">
<span class="sig-name descname"><span class="pre">d_s2</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">192.5</span></em><a class="headerlink" href="#refl1d.ncnrdata.XRay.d_s2" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.XRay.d_s3">
<span class="sig-name descname"><span class="pre">d_s3</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">175.0</span></em><a class="headerlink" href="#refl1d.ncnrdata.XRay.d_s3" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.XRay.defaults">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">defaults</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.XRay.defaults" title="Link to this definition">¶</a></dt>
<dd><p>Return default instrument properties as a printable string.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.XRay.fixed_slits">
<span class="sig-name descname"><span class="pre">fixed_slits</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.ncnrdata.XRay.fixed_slits" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.XRay.instrument">
<span class="sig-name descname"><span class="pre">instrument</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'X-ray'</span></em><a class="headerlink" href="#refl1d.ncnrdata.XRay.instrument" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.XRay.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.XRay.load" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.XRay.load_magnetic">
<span class="sig-name descname"><span class="pre">load_magnetic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.XRay.load_magnetic" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.XRay.magnetic_probe">
<span class="sig-name descname"><span class="pre">magnetic_probe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Aguide</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">270.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shared_beam</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">H</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.XRay.magnetic_probe" title="Link to this definition">¶</a></dt>
<dd><p>Simulate a polarized measurement probe.</p>
<p>Returns a probe with Q, angle, wavelength and the associated
uncertainties, but not any data.</p>
<p>Guide field angle <em>Aguide</em> can be specified, as well as keyword
arguments for the geometry of the probe cross sections such as
<em>slits_at_Tlo</em>, <em>Tlo</em>, <em>Thi</em>, <em>slits_below</em>, and <em>slits_above</em>
to define the angular divergence.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.XRay.probe">
<span class="sig-name descname"><span class="pre">probe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.XRay.probe" title="Link to this definition">¶</a></dt>
<dd><p>Return a probe for use in simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><em>Q</em><span class="classifier">[float] | Å</span></dt><dd><p>Q values to be measured.</p>
</dd>
<dt><em>T</em><span class="classifier">[float] | °</span></dt><dd><p>Angles to be measured.</p>
</dd>
</dl>
</dd>
</dl>
<p>Additional keyword parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><em>probe</em><span class="classifier">Probe</span></dt><dd><p>Measurement probe with complete resolution information.  The
probe will not have any data.</p>
</dd>
</dl>
</dd>
</dl>
<p>If both <em>Q</em> and <em>T</em> are specified then <em>Q</em> takes precedents.</p>
<p>You can override instrument parameters using key=value.  In
particular, settings for <em>slits_at_Tlo</em>, <em>Tlo</em>, <em>Thi</em>,
<em>slits_below</em>, and <em>slits_above</em> are used to define the
angular divergence.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.XRay.radiation">
<span class="sig-name descname"><span class="pre">radiation</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'xray'</span></em><a class="headerlink" href="#refl1d.ncnrdata.XRay.radiation" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.XRay.readfile">
<span class="sig-name descname"><span class="pre">readfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.XRay.readfile" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.ncnrdata.XRay.resolution">
<span class="sig-name descname"><span class="pre">resolution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.ncnrdata.XRay.resolution" title="Link to this definition">¶</a></dt>
<dd><p>Calculate resolution at each angle.</p>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><em>T</em>, <em>dT</em><span class="classifier">[float] | °</span></dt><dd><p>Angles and angular divergence.</p>
</dd>
<dt><em>L</em>, <em>dL</em><span class="classifier">[float] | Å</span></dt><dd><p>Wavelengths and wavelength dispersion.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.XRay.sample_broadening">
<span class="sig-name descname"><span class="pre">sample_broadening</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#refl1d.ncnrdata.XRay.sample_broadening" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.XRay.sample_width">
<span class="sig-name descname"><span class="pre">sample_width</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">10000000000.0</span></em><a class="headerlink" href="#refl1d.ncnrdata.XRay.sample_width" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.XRay.slits_above">
<span class="sig-name descname"><span class="pre">slits_above</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.ncnrdata.XRay.slits_above" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.XRay.slits_at_Tlo">
<span class="sig-name descname"><span class="pre">slits_at_Tlo</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.ncnrdata.XRay.slits_at_Tlo" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.XRay.slits_below">
<span class="sig-name descname"><span class="pre">slits_below</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.ncnrdata.XRay.slits_below" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.ncnrdata.XRay.wavelength">
<span class="sig-name descname"><span class="pre">wavelength</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1.5416</span></em><a class="headerlink" href="#refl1d.ncnrdata.XRay.wavelength" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="refl1d.ncnrdata.find_xsec">
<span class="sig-prename descclassname"><span class="pre">refl1d.ncnrdata.</span></span><span class="sig-name descname"><span class="pre">find_xsec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/ncnrdata.html#find_xsec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.ncnrdata.find_xsec" title="Link to this definition">¶</a></dt>
<dd><p>Find files containing the polarization cross-sections.</p>
<p>Returns tuple with file names for ++ +- -+ – cross sections, or
None if the spin cross section does not exist.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="refl1d.ncnrdata.load">
<span class="sig-prename descclassname"><span class="pre">refl1d.ncnrdata.</span></span><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instrument</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/ncnrdata.html#load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.ncnrdata.load" title="Link to this definition">¶</a></dt>
<dd><p>Return a probe for NCNR data.</p>
<p>Keyword arguments are as specified Monochromatic instruments.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="refl1d.ncnrdata.load_magnetic">
<span class="sig-prename descclassname"><span class="pre">refl1d.ncnrdata.</span></span><span class="sig-name descname"><span class="pre">load_magnetic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Aguide</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">270.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">H</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shared_beam</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/ncnrdata.html#load_magnetic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.ncnrdata.load_magnetic" title="Link to this definition">¶</a></dt>
<dd><p>Return a probe for magnetic NCNR data.</p>
<dl class="simple">
<dt><em>filename</em> (string, or 4x string)</dt><dd><p>If it is a string, then filenameA, filenameB, filenameC, filenameD,
are the –, -+, +-, ++ cross sections, otherwise the individual
cross sections should the be the file name for the cross section or
None if the cross section does not exist.</p>
</dd>
<dt><em>Aguide</em> (degrees)</dt><dd><p>Angle of the guide field relative to the beam.  270 is the default.</p>
</dd>
<dt><em>shared_beam</em> (True)</dt><dd><p>Use false if beam parameters should be fit separately for the
individual cross sections.</p>
</dd>
</dl>
<p>Other keyword arguments are for the individual cross section loaders
as specified in
<a class="reference internal" href="../refl1d.instrument.html#refl1d.instrument.Monochromatic" title="refl1d.instrument.Monochromatic"><code class="xref py py-class docutils literal notranslate"><span class="pre">instrument.Monochromatic</span></code></a>.</p>
<p>The data sets should are the base filename with an additional character
corresponding to the spin state:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;a&#39;</span> <span class="n">corresponds</span> <span class="n">to</span> <span class="n">spin</span> <span class="o">--</span>
<span class="s1">&#39;b&#39;</span> <span class="n">corresponds</span> <span class="n">to</span> <span class="n">spin</span> <span class="o">-+</span>
<span class="s1">&#39;c&#39;</span> <span class="n">corresponds</span> <span class="n">to</span> <span class="n">spin</span> <span class="o">+-</span>
<span class="s1">&#39;d&#39;</span> <span class="n">corresponds</span> <span class="n">to</span> <span class="n">spin</span> <span class="o">++</span>
</pre></div>
</div>
<p>Unfortunately the interpretation is a little more complicated than
this as the data acquisition system assigns letter on the basis of
flipper state rather than neutron spin state.  Whether flipper on
or off corresponds to spin up or down depends on whether the
polarizer/analyzer is a supermirror in transmission or reflection
mode, or in the case of ^3He polarizers, whether the polarization
is up or down.</p>
<p>For full control, specify filename as a list of files, with None
for the missing cross sections.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="refl1d.ncnrdata.parse_ncnr_file">
<span class="sig-prename descclassname"><span class="pre">refl1d.ncnrdata.</span></span><span class="sig-name descname"><span class="pre">parse_ncnr_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/ncnrdata.html#parse_ncnr_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.ncnrdata.parse_ncnr_file" title="Link to this definition">¶</a></dt>
<dd><p>Parse NCNR reduced data file returning <em>header</em> and <em>data</em>.</p>
<p><em>header</em> dictionary of fields such as ‘data’, ‘title’, ‘instrument’
<em>data</em> 2D array of data</p>
<p>If ‘columns’ is present in header, it will be a list of the names of
the columns.  If ‘instrument’ is present in the header, the default
instrument geometry will be specified.</p>
<p>Slit geometry is set to the default from the instrument if it is not
available in the reduced file.</p>
</dd></dl>

</section>


      </div>
      <div class="bottomnav" role="navigation" aria-label="Bottom">
      
        <p>
        «&#160;&#160;<a href="names.html">names - Public API</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="polymer.html">polymer - Polymer models</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    </div>
  </body>
</html>