<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>staj - Staj File &#8212; Refl1D 0.7.7.post1533+gc6a0ac1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/haiku-site.css?v=ccbba224" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <script src="../_static/documentation_options.js?v=132fb2fb"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="stajconvert - Staj File Converter" href="stajconvert.html" />
    <link rel="prev" title="snsdata - SNS Data" href="snsdata.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="../index.html">
          <span>Refl1D 0.7.7.post1533+gc6a0ac1 documentation</span></a></h1>
        <h2 class="heading"><span>staj - Staj File</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="Top">
      
        <p>
        «&#160;&#160;<a href="snsdata.html">snsdata - SNS Data</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="stajconvert.html">stajconvert - Staj File Converter</a>&#160;&#160;»
        </p>

      </div>
      <div class="content" role="main">
        
        
  <section id="staj-staj-file">
<h1>staj - Staj File<a class="headerlink" href="#staj-staj-file" title="Link to this heading">¶</a></h1>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="../refl1d.staj.html#refl1d.staj.MlayerMagnetic" title="refl1d.staj.MlayerMagnetic"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MlayerMagnetic</span></code></a></p></td>
<td><p>Model definition used by GJ2 program.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../refl1d.staj.html#refl1d.staj.MlayerModel" title="refl1d.staj.MlayerModel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MlayerModel</span></code></a></p></td>
<td><p>Model definition used by MLayer program.</p></td>
</tr>
</tbody>
</table>
<p id="module-refl1d.staj">Read and write staj files</p>
<p>Staj files are the model files for the mlayer and gj2 programs, which are
used as the calculation engine for the reflpak suite. Mlayer supports
unpolarized beam with multilayer models,  and has files ending in
<strong>.staj</strong>. GJ2 supports polarized beam without multilayer models, and
has files ending in <strong>.sta</strong>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="refl1d.staj.MlayerMagnetic">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">refl1d.staj.</span></span><span class="sig-name descname"><span class="pre">MlayerMagnetic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/staj.html#MlayerMagnetic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.staj.MlayerMagnetic" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Model definition used by GJ2 program.</p>
<p><strong>Attributes:</strong></p>
<p>Q values and reflectivity come from a data file with Q, R, dR or
from simulation with linear spacing from Qmin to Qmax in equal steps:</p>
<blockquote>
<div><dl class="simple">
<dt><em>data_file</em></dt><dd><p>base name of the data file, or None if this is simulation only</p>
</dd>
<dt><em>active_xsec</em></dt><dd><p>active cross sections (usually ‘abcd’ for all cross sections)</p>
</dd>
<dt><em>Qmin</em>, <em>Qmax</em>, <em>num_Q</em></dt><dd><p>for simulation, Q sample points</p>
</dd>
</dl>
</div></blockquote>
<p>Resolution is defined by wavelength and by incident angle:</p>
<blockquote>
<div><dl class="simple">
<dt><em>wavelength</em>, <em>wavelength_dispersion</em>, <em>angular_divergence</em></dt><dd><p>resolution is calculated as
<span class="math notranslate nohighlight">\(\Delta Q/Q = \Delta\lambda/\lambda + \Delta\theta/\theta\)</span></p>
</dd>
</dl>
</div></blockquote>
<p>Additional beam parameters correct for intensity, background and
possibly guide field angle:</p>
<blockquote>
<div><dl class="simple">
<dt><em>intensity</em>, <em>background</em></dt><dd><p>incident beam intensity and sample background</p>
</dd>
<dt><em>guide_angle</em></dt><dd><p>angle of the guide field</p>
</dd>
</dl>
</div></blockquote>
<p>Unlike pure structural models, magnetic models are in one large
section with no repeats.  The single parameter is the number of
layers, which is implicit in the length of the layer data and
does not need to be an explicit attribute.</p>
<p>Interfaces are split into discrete steps according to a profile,
either error function or hyperbolic tangent.  For sharp interfaces
which do not overlap within a layer, the interface is broken into a
fixed number of slabs with slabs having different widths, but equal
changes in height.  For broad interfaces, the whole layer is split
into the same fixed number of slabs, but with each slab having the
same width. The following attributes are used:</p>
<blockquote>
<div><dl class="simple">
<dt><em>roughness_steps</em></dt><dd><p>number of roughness steps (13 is coarse; 51 is fine)</p>
</dd>
<dt><em>roughness_profile</em></dt><dd><p>roughness profile is either ‘E’ for error function or ‘H’ for tanh</p>
</dd>
</dl>
</div></blockquote>
<p>Layers have thickness, interface roughness and real and imaginary
scattering length density (SLD).  Roughness is stored in the file
using full width at half maximum (FWHM) for the given profile type.
For convenience, roughness can also be set or queried using a 1-<span class="math notranslate nohighlight">\(\sigma\)</span>
equivalent roughness on an error function profile.  Regardless,
layer parameters are represented as vectors with one entry for each
top, middle and bottom layer using the following attributes:</p>
<blockquote>
<div><dl>
<dt><em>thickness</em>, <em>roughness</em><span class="classifier">float | Å</span></dt><dd><p>layer thickness and FWHM roughness</p>
</dd>
<dt><em>rho</em>, <em>irho</em><span class="classifier">float, float | <span class="math notranslate nohighlight">\(16 \pi \rho\)</span>, <span class="math notranslate nohighlight">\(2\lambda\rho_i\)</span></span></dt><dd><p>complex scattering length density</p>
</dd>
<dt><em>mthickness</em>, <em>mroughness</em><span class="classifier">float | Å</span></dt><dd><p>magnetic thickness and roughness</p>
</dd>
<dt><em>mrho</em><span class="classifier">float | <span class="math notranslate nohighlight">\(16 \pi \rho_M\)</span></span></dt><dd><p>magnetic scattering length density</p>
</dd>
<dt><em>mtheta</em><span class="classifier">float | °</span></dt><dd><p>magnetic angle</p>
</dd>
<dt><em>sigma_roughness</em>, <em>sigma_mroughness</em><span class="classifier">float | Å</span></dt><dd><p>computed 1-<span class="math notranslate nohighlight">\(\sigma\)</span> equivalent roughness for erf profile</p>
</dd>
</dl>
</div></blockquote>
<p>The conversion from stored <span class="math notranslate nohighlight">\(16 \pi \rho\)</span>, <span class="math notranslate nohighlight">\(2\lambda\rho_i\)</span> to
in memory <span class="math notranslate nohighlight">\(10^6 \rho\)</span>, <span class="math notranslate nohighlight">\(10^6 \rho_i\)</span>  happens automatically on
read/write.</p>
<p>The layers are ordered from surface to substrate.</p>
<p>Additional attributes are as follows:</p>
<blockquote>
<div><dl class="simple">
<dt><em>fitpars</em></dt><dd><p>individual fit parameter numbers</p>
</dd>
<dt><em>constraints</em></dt><dd><p>constraints between layers</p>
</dd>
<dt><em>output_file</em></dt><dd><p>name of the output file</p>
</dd>
</dl>
</div></blockquote>
<p>These can be safely ignored, except perhaps if you want to try to
compile the constraints into something that can be used by your system.</p>
<p><strong>Methods:</strong></p>
<p>model = MlayerMagnetic(attribute=value, …)</p>
<blockquote>
<div><p>Construct a new MLayer model with the given attributes set.</p>
</div></blockquote>
<p>model = MlayerMagnetic.load(filename)</p>
<blockquote>
<div><p>Construct a new MLayer model from a sta file.</p>
</div></blockquote>
<p>model.set(attribute=value, …)</p>
<blockquote>
<div><p>Replace a set of attribute values.</p>
</div></blockquote>
<p>model.fit_resolution(Q, dQ)</p>
<blockquote>
<div><p>Choose the best resolution parameters to match the given Q, dQ
resolution.  Returns the object so that calls can be chained.</p>
</div></blockquote>
<p>model.resolution(Q)</p>
<blockquote>
<div><p>Return the resolution at Q for the current resolution parameters.</p>
</div></blockquote>
<p>model.save(filename)</p>
<blockquote>
<div><p>Write the model to the given named file.  Raises ValueError if
the model is invalid.</p>
</div></blockquote>
<p><strong>Constructing new files:</strong></p>
<p>Staj files can be constructed directly.  The MlayerModel constructor
can accept all data attributes as key word arguments.  Models require
at least <em>data_file</em>, <em>wavelength</em>, <em>thickness</em>, <em>roughness</em> and <em>rho</em>.
Resolution parameters can be set using model.fit_resolution(Q, dQ).
Everything else has reasonable defaults.</p>
<dl class="py method">
<dt class="sig sig-object py" id="refl1d.staj.MlayerMagnetic.FWHMresolution">
<span class="sig-name descname"><span class="pre">FWHMresolution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Q</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/staj.html#MlayerMagnetic.FWHMresolution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.staj.MlayerMagnetic.FWHMresolution" title="Link to this definition">¶</a></dt>
<dd><p>Return the resolution at Q for mlayer with the current settings
for wavelength, wavelength divergence and angular divergence.</p>
<p>Resolution is full-width at half maximum (FWHM), not 1-<span class="math notranslate nohighlight">\(\sigma\)</span>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerMagnetic.Qmax">
<span class="sig-name descname"><span class="pre">Qmax</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.5</span></em><a class="headerlink" href="#refl1d.staj.MlayerMagnetic.Qmax" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerMagnetic.Qmin">
<span class="sig-name descname"><span class="pre">Qmin</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#refl1d.staj.MlayerMagnetic.Qmin" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerMagnetic.active_xsec">
<span class="sig-name descname"><span class="pre">active_xsec</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'abcd'</span></em><a class="headerlink" href="#refl1d.staj.MlayerMagnetic.active_xsec" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerMagnetic.angular_divergence">
<span class="sig-name descname"><span class="pre">angular_divergence</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.001</span></em><a class="headerlink" href="#refl1d.staj.MlayerMagnetic.angular_divergence" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerMagnetic.background">
<span class="sig-name descname"><span class="pre">background</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#refl1d.staj.MlayerMagnetic.background" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerMagnetic.constraints">
<span class="sig-name descname"><span class="pre">constraints</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#refl1d.staj.MlayerMagnetic.constraints" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerMagnetic.data_file">
<span class="sig-name descname"><span class="pre">data_file</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#refl1d.staj.MlayerMagnetic.data_file" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.staj.MlayerMagnetic.fit_FWHMresolution">
<span class="sig-name descname"><span class="pre">fit_FWHMresolution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dQ</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/staj.html#MlayerMagnetic.fit_FWHMresolution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.staj.MlayerMagnetic.fit_FWHMresolution" title="Link to this definition">¶</a></dt>
<dd><p>Choose the best dL and dT to match the resolution dQ.</p>
<p>Given that mlayer uses the following resolution function:</p>
<div class="math notranslate nohighlight">
\[\Delta Q_k = (|Q_k| \Delta\lambda + 4 \pi \Delta\theta)/\lambda_k\]</div>
<p>we can use a linear system solver to find the optimal
<span class="math notranslate nohighlight">\(\Delta \lambda\)</span> and <span class="math notranslate nohighlight">\(\Delta \theta\)</span> across our dataset from the
over-determined system:</p>
<div class="math notranslate nohighlight">
\[[|Q_k|/\lambda_k, 4\pi/\lambda_k][\Delta\lambda, \Delta\theta]^T
    = \Delta Q_k\]</div>
<p>If weights are provided (e.g., <span class="math notranslate nohighlight">\(\Delta R_k/R_k\)</span>), then weigh each
point during the fit.</p>
<p>Given that the experiment is often run with fixed slits at the
start and end, you may choose to match the resolution across the
entire <span class="math notranslate nohighlight">\(Q\)</span> range, or instead restrict it to just the region where
the slits are opening.  You will generally want to get the resolution
correct at the critical edge since that’s where it will have the
largest effect on the fit.</p>
<p>Returns the object so that operations can be chained.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerMagnetic.fitpars">
<span class="sig-name descname"><span class="pre">fitpars</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[]</span></em><a class="headerlink" href="#refl1d.staj.MlayerMagnetic.fitpars" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerMagnetic.guide_angle">
<span class="sig-name descname"><span class="pre">guide_angle</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">270</span></em><a class="headerlink" href="#refl1d.staj.MlayerMagnetic.guide_angle" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerMagnetic.intensity">
<span class="sig-name descname"><span class="pre">intensity</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#refl1d.staj.MlayerMagnetic.intensity" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerMagnetic.irho">
<span class="sig-name descname"><span class="pre">irho</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.staj.MlayerMagnetic.irho" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.staj.MlayerMagnetic.load">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/staj.html#MlayerMagnetic.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.staj.MlayerMagnetic.load" title="Link to this definition">¶</a></dt>
<dd><p>Load a staj file, returning an MlayerModel object</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerMagnetic.mrho">
<span class="sig-name descname"><span class="pre">mrho</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.staj.MlayerMagnetic.mrho" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerMagnetic.mroughness">
<span class="sig-name descname"><span class="pre">mroughness</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.staj.MlayerMagnetic.mroughness" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerMagnetic.mtheta">
<span class="sig-name descname"><span class="pre">mtheta</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.staj.MlayerMagnetic.mtheta" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerMagnetic.mthickness">
<span class="sig-name descname"><span class="pre">mthickness</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.staj.MlayerMagnetic.mthickness" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerMagnetic.num_Q">
<span class="sig-name descname"><span class="pre">num_Q</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">200</span></em><a class="headerlink" href="#refl1d.staj.MlayerMagnetic.num_Q" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerMagnetic.output_file">
<span class="sig-name descname"><span class="pre">output_file</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#refl1d.staj.MlayerMagnetic.output_file" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerMagnetic.rho">
<span class="sig-name descname"><span class="pre">rho</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.staj.MlayerMagnetic.rho" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerMagnetic.roughness">
<span class="sig-name descname"><span class="pre">roughness</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.staj.MlayerMagnetic.roughness" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerMagnetic.roughness_profile">
<span class="sig-name descname"><span class="pre">roughness_profile</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'E'</span></em><a class="headerlink" href="#refl1d.staj.MlayerMagnetic.roughness_profile" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerMagnetic.roughness_steps">
<span class="sig-name descname"><span class="pre">roughness_steps</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">13</span></em><a class="headerlink" href="#refl1d.staj.MlayerMagnetic.roughness_steps" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.staj.MlayerMagnetic.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/staj.html#MlayerMagnetic.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.staj.MlayerMagnetic.save" title="Link to this definition">¶</a></dt>
<dd><p>Save the staj file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.staj.MlayerMagnetic.set">
<span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/staj.html#MlayerMagnetic.set"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.staj.MlayerMagnetic.set" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="refl1d.staj.MlayerMagnetic.sigma_mroughness">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sigma_mroughness</span></span><a class="headerlink" href="#refl1d.staj.MlayerMagnetic.sigma_mroughness" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="refl1d.staj.MlayerMagnetic.sigma_roughness">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sigma_roughness</span></span><a class="headerlink" href="#refl1d.staj.MlayerMagnetic.sigma_roughness" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerMagnetic.thickness">
<span class="sig-name descname"><span class="pre">thickness</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.staj.MlayerMagnetic.thickness" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerMagnetic.wavelength">
<span class="sig-name descname"><span class="pre">wavelength</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#refl1d.staj.MlayerMagnetic.wavelength" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerMagnetic.wavelength_dispersion">
<span class="sig-name descname"><span class="pre">wavelength_dispersion</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.01</span></em><a class="headerlink" href="#refl1d.staj.MlayerMagnetic.wavelength_dispersion" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">refl1d.staj.</span></span><span class="sig-name descname"><span class="pre">MlayerModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/staj.html#MlayerModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.staj.MlayerModel" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Model definition used by MLayer program.</p>
<p><strong>Attributes:</strong></p>
<p>Q values and reflectivity come from a data file with Q, R, dR or
from simulation with linear spacing from Qmin to Qmax in equal steps:</p>
<blockquote>
<div><dl class="simple">
<dt><em>data_file</em></dt><dd><p>name of the data file, or None if this is simulation only</p>
</dd>
<dt><em>Qmin</em>, <em>Qmax</em>, <em>num_Q</em></dt><dd><p>for simulation, Q sample points</p>
</dd>
</dl>
</div></blockquote>
<p>Resolution is defined by wavelength and by incident angle:</p>
<blockquote>
<div><dl class="simple">
<dt><em>wavelength</em>, <em>wavelength_dispersion</em>, <em>angular_divergence</em></dt><dd><p>resolution is calculated as
<span class="math notranslate nohighlight">\(\Delta Q/Q = \Delta\lambda/\lambda + \Delta\theta/\theta\)</span></p>
</dd>
</dl>
</div></blockquote>
<p>Additional beam parameters correct for intensity, background and
possibly sample alignment:</p>
<blockquote>
<div><dl class="simple">
<dt><em>intensity</em>, <em>background</em></dt><dd><p>incident beam intensity and sample background</p>
</dd>
<dt><em>theta_offset</em></dt><dd><p>alignment angle correction</p>
</dd>
</dl>
</div></blockquote>
<p>The model is defined in terms of layers, with three sections.  The top
and bottom section correspond to the fixed layers at the surface and
the substrate.  The middle section layers can be repeated an arbitrary
number of times, as defined by the number of repeats attribute.  The
attributes defining the sections are:</p>
<blockquote>
<div><dl class="simple">
<dt><em>num_top</em> <em>num_middle</em> <em>num_bottom</em></dt><dd><p>section sizes</p>
</dd>
<dt><em>num_repeats</em></dt><dd><p>number of times middle section repeats</p>
</dd>
</dl>
</div></blockquote>
<p>Interfaces are split into discrete steps according to a profile,
either error function or hyperbolic tangent.  For sharp interfaces
which do not overlap within a layer, the interface is broken into a
fixed number of slabs with slabs having different widths, but equal
changes in height.  For broad interfaces, the whole layer is split
into the same fixed number of slabs, but with each slab having the
same width.  The following attributes are used:</p>
<blockquote>
<div><dl class="simple">
<dt><em>roughness_steps</em></dt><dd><p>number of roughness steps (13 is coarse; 51 is fine)</p>
</dd>
<dt><em>roughness_profile</em></dt><dd><p>roughness profile is either ‘E’ for error function or ‘H’ for tanh</p>
</dd>
</dl>
</div></blockquote>
<p>Layers have thickness, interface roughness and real and imaginary
scattering length density (SLD).  Roughness is stored in the file
using full width at half maximum (FWHM) for the given profile type.
For convenience, roughness can also be set or queried using a 1-<span class="math notranslate nohighlight">\(\sigma\)</span>
equivalent roughness on an error function profile.  Regardless,
layer parameters are represented as vectors with one entry for each
top, middle and bottom layer using the following attributes:</p>
<blockquote>
<div><dl>
<dt><em>thickness</em>, <em>roughness</em><span class="classifier">float | Å</span></dt><dd><p>layer thickness and FWHM roughness</p>
</dd>
<dt><em>rho</em>, <em>irho</em>, <em>incoh</em><span class="classifier">float | 10<sup>-6</sup>Å<sup>-2</sup></span></dt><dd><p>complex coherent <span class="math notranslate nohighlight">\(\rho + j \rho_i\)</span> and incoherent SLD</p>
</dd>
</dl>
</div></blockquote>
<p>Computed attributes are provided for convenience:</p>
<blockquote>
<div><dl class="simple">
<dt><em>sigma_roughness</em><span class="classifier">float | Å</span></dt><dd><p>1-<span class="math notranslate nohighlight">\(\sigma\)</span> equivalent roughness for erf profile</p>
</dd>
<dt><em>mu</em></dt><dd><p>absorption cross section (2*wavelength*irho + incoh)</p>
</dd>
</dl>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The staj files store SLD as <span class="math notranslate nohighlight">\(16\pi\rho\)</span>, <span class="math notranslate nohighlight">\(2\lambda\rho_i\)</span>
with an additional column of 0 for magnetic SLD. This conversion
happens automatically on read/write. The incoherent cross section
is assumed to be zero.</p>
</div>
<p>The layers are ordered from surface to substrate.</p>
<p>Additional attributes are as follows:</p>
<blockquote>
<div><dl class="simple">
<dt><em>fitpars</em></dt><dd><p>individual fit parameter numbers</p>
</dd>
<dt><em>constraints</em></dt><dd><p>constraints between layers</p>
</dd>
<dt><em>output_file</em></dt><dd><p>name of the output file</p>
</dd>
</dl>
</div></blockquote>
<p>These can be safely ignored, except perhaps if you want to try to
compile the constraints into something that can be used by your system.</p>
<p><strong>Methods:</strong></p>
<p>model = MlayerModel(attribute=value, …)</p>
<blockquote>
<div><p>Construct a new MLayer model with the given attributes set.</p>
</div></blockquote>
<p>model = MlayerModel.load(filename)</p>
<blockquote>
<div><p>Construct a new MLayer model from a staj file.</p>
</div></blockquote>
<p>model.set(attribute=value, …)</p>
<blockquote>
<div><p>Replace a set of attribute values.</p>
</div></blockquote>
<p>model.fit_resolution(Q, dQ)</p>
<blockquote>
<div><p>Choose the best resolution parameters to match the given Q, dQ
resolution.  Returns the object so that calls can be chained.</p>
</div></blockquote>
<p>model.resolution(Q)</p>
<blockquote>
<div><p>Return the resolution at Q for the current resolution parameters.</p>
</div></blockquote>
<p>model.split_sections()</p>
<blockquote>
<div><p>Assign top, middle, bottom and repeats to distribute the layers
across sections.  Returns the object so that calls can be chained.</p>
</div></blockquote>
<p>model.save(filename)</p>
<blockquote>
<div><p>Write the model to the given named file.  Raises ValueError if
the model is invalid.</p>
</div></blockquote>
<p><strong>Constructing new files:</strong></p>
<p>Staj files can be constructed directly.  The MlayerModel constructor
can accept all data attributes as key word arguments.  Models require
at least <em>data_file</em>, <em>wavelength</em>, <em>thickness</em>, <em>roughness</em> and <em>rho</em>.
Resolution parameters can be set using model.fit_resolution(Q, dQ).
Section sizes can be set using model.split_sections().  Everything
else has reasonable defaults.</p>
<dl class="py method">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel.FWHMresolution">
<span class="sig-name descname"><span class="pre">FWHMresolution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Q</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/staj.html#MlayerModel.FWHMresolution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.staj.MlayerModel.FWHMresolution" title="Link to this definition">¶</a></dt>
<dd><p>Return the resolution at Q for mlayer with the current settings
for wavelength, wavelength divergence and angular divergence.</p>
<p>Resolution is full-width at half maximum (FWHM), not 1-<span class="math notranslate nohighlight">\(\sigma\)</span>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel.Qmax">
<span class="sig-name descname"><span class="pre">Qmax</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.5</span></em><a class="headerlink" href="#refl1d.staj.MlayerModel.Qmax" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel.Qmin">
<span class="sig-name descname"><span class="pre">Qmin</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#refl1d.staj.MlayerModel.Qmin" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel.angular_divergence">
<span class="sig-name descname"><span class="pre">angular_divergence</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.001</span></em><a class="headerlink" href="#refl1d.staj.MlayerModel.angular_divergence" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel.background">
<span class="sig-name descname"><span class="pre">background</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#refl1d.staj.MlayerModel.background" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel.constraints">
<span class="sig-name descname"><span class="pre">constraints</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#refl1d.staj.MlayerModel.constraints" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel.data_file">
<span class="sig-name descname"><span class="pre">data_file</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#refl1d.staj.MlayerModel.data_file" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel.fit_FWHMresolution">
<span class="sig-name descname"><span class="pre">fit_FWHMresolution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dQ</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/staj.html#MlayerModel.fit_FWHMresolution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.staj.MlayerModel.fit_FWHMresolution" title="Link to this definition">¶</a></dt>
<dd><p>Choose the best dL and dT to match the resolution dQ.</p>
<p>Given that mlayer uses the following resolution function:</p>
<div class="math notranslate nohighlight">
\[\Delta Q_k = (|Q_k| \Delta\lambda + 4 \pi \Delta\theta)/\lambda_k\]</div>
<p>we can use a linear system solver to find the optimal
<span class="math notranslate nohighlight">\(\Delta \lambda\)</span> and <span class="math notranslate nohighlight">\(\Delta \theta\)</span> across our dataset from the
over-determined system:</p>
<div class="math notranslate nohighlight">
\[[|Q_k|/\lambda_k, 4\pi/\lambda_k][\Delta\lambda, \Delta\theta]^T
    = \Delta Q_k\]</div>
<p>If weights are provided (e.g., <span class="math notranslate nohighlight">\(\Delta R_k/R_k\)</span>), then weigh each
point during the fit.</p>
<p>Given that the experiment is often run with fixed slits at the
start and end, you may choose to match the resolution across the
entire <span class="math notranslate nohighlight">\(Q\)</span> range, or instead restrict it to just the region where
the slits are opening.  You will generally want to get the resolution
correct at the critical edge since that’s where it will have the
largest effect on the fit.</p>
<p>Returns the object so that operations can be chained.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel.fitpars">
<span class="sig-name descname"><span class="pre">fitpars</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[]</span></em><a class="headerlink" href="#refl1d.staj.MlayerModel.fitpars" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel.incoh">
<span class="sig-name descname"><span class="pre">incoh</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#refl1d.staj.MlayerModel.incoh" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel.intensity">
<span class="sig-name descname"><span class="pre">intensity</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#refl1d.staj.MlayerModel.intensity" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel.irho">
<span class="sig-name descname"><span class="pre">irho</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#refl1d.staj.MlayerModel.irho" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel.load">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/staj.html#MlayerModel.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.staj.MlayerModel.load" title="Link to this definition">¶</a></dt>
<dd><p>Load a staj file, returning an MlayerModel object</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel.mu">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mu</span></span><a class="headerlink" href="#refl1d.staj.MlayerModel.mu" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel.num_Q">
<span class="sig-name descname"><span class="pre">num_Q</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">200</span></em><a class="headerlink" href="#refl1d.staj.MlayerModel.num_Q" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel.num_bottom">
<span class="sig-name descname"><span class="pre">num_bottom</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#refl1d.staj.MlayerModel.num_bottom" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel.num_middle">
<span class="sig-name descname"><span class="pre">num_middle</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#refl1d.staj.MlayerModel.num_middle" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel.num_repeats">
<span class="sig-name descname"><span class="pre">num_repeats</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#refl1d.staj.MlayerModel.num_repeats" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel.num_top">
<span class="sig-name descname"><span class="pre">num_top</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#refl1d.staj.MlayerModel.num_top" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel.output_file">
<span class="sig-name descname"><span class="pre">output_file</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#refl1d.staj.MlayerModel.output_file" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel.rho">
<span class="sig-name descname"><span class="pre">rho</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.staj.MlayerModel.rho" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel.roughness">
<span class="sig-name descname"><span class="pre">roughness</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.staj.MlayerModel.roughness" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel.roughness_profile">
<span class="sig-name descname"><span class="pre">roughness_profile</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'E'</span></em><a class="headerlink" href="#refl1d.staj.MlayerModel.roughness_profile" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel.roughness_steps">
<span class="sig-name descname"><span class="pre">roughness_steps</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">13</span></em><a class="headerlink" href="#refl1d.staj.MlayerModel.roughness_steps" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/staj.html#MlayerModel.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.staj.MlayerModel.save" title="Link to this definition">¶</a></dt>
<dd><p>Save the staj file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel.set">
<span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/staj.html#MlayerModel.set"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.staj.MlayerModel.set" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel.sigma_roughness">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sigma_roughness</span></span><a class="headerlink" href="#refl1d.staj.MlayerModel.sigma_roughness" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel.split_sections">
<span class="sig-name descname"><span class="pre">split_sections</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/staj.html#MlayerModel.split_sections"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.staj.MlayerModel.split_sections" title="Link to this definition">¶</a></dt>
<dd><p>Split the given set of layers into sections, putting as many layers
as possible into the middle section, then the bottom and finally
the top.</p>
<p>Returns the object so that operations can be chained.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel.theta_offset">
<span class="sig-name descname"><span class="pre">theta_offset</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#refl1d.staj.MlayerModel.theta_offset" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel.thickness">
<span class="sig-name descname"><span class="pre">thickness</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.staj.MlayerModel.thickness" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel.wavelength">
<span class="sig-name descname"><span class="pre">wavelength</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#refl1d.staj.MlayerModel.wavelength" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.staj.MlayerModel.wavelength_dispersion">
<span class="sig-name descname"><span class="pre">wavelength_dispersion</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.01</span></em><a class="headerlink" href="#refl1d.staj.MlayerModel.wavelength_dispersion" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>


      </div>
      <div class="bottomnav" role="navigation" aria-label="Bottom">
      
        <p>
        «&#160;&#160;<a href="snsdata.html">snsdata - SNS Data</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="stajconvert.html">stajconvert - Staj File Converter</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    </div>
  </body>
</html>