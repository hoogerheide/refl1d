<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>dist - Non-uniform samples &#8212; Refl1D 0.7.7.post1533+gc6a0ac1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/haiku-site.css?v=ccbba224" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <script src="../_static/documentation_options.js?v=132fb2fb"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="errors - Plot sample profile uncertainty" href="errors.html" />
    <link rel="prev" title="cheby - Freeform - Chebyshev model" href="cheby.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="../index.html">
          <span>Refl1D 0.7.7.post1533+gc6a0ac1 documentation</span></a></h1>
        <h2 class="heading"><span>dist - Non-uniform samples</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="Top">
      
        <p>
        «&#160;&#160;<a href="cheby.html">cheby - Freeform - Chebyshev model</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="errors.html">errors - Plot sample profile uncertainty</a>&#160;&#160;»
        </p>

      </div>
      <div class="content" role="main">
        
        
  <section id="dist-non-uniform-samples">
<h1>dist - Non-uniform samples<a class="headerlink" href="#dist-non-uniform-samples" title="Link to this heading">¶</a></h1>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="../refl1d.dist.html#refl1d.dist.DistributionExperiment" title="refl1d.dist.DistributionExperiment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DistributionExperiment</span></code></a></p></td>
<td><p>Compute reflectivity from a non-uniform sample.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../refl1d.dist.html#refl1d.dist.Weights" title="refl1d.dist.Weights"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Weights</span></code></a></p></td>
<td><p>Parameterized distribution for use in DistributionExperiment.</p></td>
</tr>
</tbody>
</table>
<p id="module-refl1d.dist">Inhomogeneous samples</p>
<p>In the presence of samples with short range order on scale of the coherence
length of the probe in the plane, but long range disorder following some
distribution of parameter values, the reflectivity can be computed from
a weighted incoherent sum of the reflectivities for different values of
the parameter.</p>
<p>DistristributionExperiment allows the model to be computed for a single
varying parameter.  Multi-parameter dispersion models are not available.</p>
<dl class="py class">
<dt class="sig sig-object py" id="refl1d.dist.DistributionExperiment">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">refl1d.dist.</span></span><span class="sig-name descname"><span class="pre">DistributionExperiment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">experiment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">P</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distribution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coherent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/dist.html#DistributionExperiment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.dist.DistributionExperiment" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../refl1d.experiment.html#refl1d.experiment.ExperimentBase" title="refl1d.experiment.ExperimentBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExperimentBase</span></code></a></p>
<p>Compute reflectivity from a non-uniform sample.</p>
<p><em>P</em> is the target parameter for the model, which takes on the values
from <em>distribution</em> in the context of the <em>experiment</em>.  The result
is the weighted sum of the theory curves after setting <em>P.value</em> to
each distribution value. Clearly, <em>P</em> should not be a fitted parameter,
but the remaining experiment parameters can be fitted, as can the
parameters of the distribution.</p>
<p>If <em>coherent</em> is true, then the reflectivity of the mixture is computed
from the coherent sum rather than the incoherent sum.</p>
<p>See <a class="reference internal" href="../refl1d.dist.html#refl1d.dist.Weights" title="refl1d.dist.Weights"><code class="xref py py-class docutils literal notranslate"><span class="pre">Weights</span></code></a> for a description of how to set up the distribution.</p>
<dl class="py method">
<dt class="sig sig-object py" id="refl1d.dist.DistributionExperiment.format_parameters">
<span class="sig-name descname"><span class="pre">format_parameters</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.dist.DistributionExperiment.format_parameters" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.dist.DistributionExperiment.interpolation">
<span class="sig-name descname"><span class="pre">interpolation</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#refl1d.dist.DistributionExperiment.interpolation" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.dist.DistributionExperiment.is_reset">
<span class="sig-name descname"><span class="pre">is_reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.dist.DistributionExperiment.is_reset" title="Link to this definition">¶</a></dt>
<dd><p>Returns True if a model reset was triggered.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.dist.DistributionExperiment.magnetic_slabs">
<span class="sig-name descname"><span class="pre">magnetic_slabs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.dist.DistributionExperiment.magnetic_slabs" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.dist.DistributionExperiment.magnetic_step_profile">
<span class="sig-name descname"><span class="pre">magnetic_step_profile</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.dist.DistributionExperiment.magnetic_step_profile" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.dist.DistributionExperiment.nllf">
<span class="sig-name descname"><span class="pre">nllf</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.dist.DistributionExperiment.nllf" title="Link to this definition">¶</a></dt>
<dd><p>Return the -log(P(data|model)).</p>
<p>Using the assumption that data uncertainty is uncorrelated, with
measurements normally distributed with mean R and variance dR**2,
this is just sum( resid**2/2 + log(2*pi*dR**2)/2 ).</p>
<p>The current version drops the constant term, sum(log(2*pi*dR**2)/2).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.dist.DistributionExperiment.numpoints">
<span class="sig-name descname"><span class="pre">numpoints</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.dist.DistributionExperiment.numpoints" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.dist.DistributionExperiment.parameters">
<span class="sig-name descname"><span class="pre">parameters</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/dist.html#DistributionExperiment.parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.dist.DistributionExperiment.parameters" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.dist.DistributionExperiment.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plot_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profile_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.dist.DistributionExperiment.plot" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.dist.DistributionExperiment.plot_profile">
<span class="sig-name descname"><span class="pre">plot_profile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plot_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/dist.html#DistributionExperiment.plot_profile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.dist.DistributionExperiment.plot_profile" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.dist.DistributionExperiment.plot_reflectivity">
<span class="sig-name descname"><span class="pre">plot_reflectivity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">show_resolution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.dist.DistributionExperiment.plot_reflectivity" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.dist.DistributionExperiment.plot_weights">
<span class="sig-name descname"><span class="pre">plot_weights</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/dist.html#DistributionExperiment.plot_weights"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.dist.DistributionExperiment.plot_weights" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="refl1d.dist.DistributionExperiment.probe">
<span class="sig-name descname"><span class="pre">probe</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="../refl1d.probe.html#refl1d.probe.Probe" title="refl1d.probe.Probe"><span class="pre">Probe</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#refl1d.dist.DistributionExperiment.probe" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.dist.DistributionExperiment.reflectivity">
<span class="sig-name descname"><span class="pre">reflectivity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resolution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interpolation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/dist.html#DistributionExperiment.reflectivity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.dist.DistributionExperiment.reflectivity" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.dist.DistributionExperiment.register_webview_plot">
<span class="sig-name descname"><span class="pre">register_webview_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plot_title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_function</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../refl1d.experiment.html#refl1d.experiment.WebviewPlotFunction" title="refl1d.experiment.WebviewPlotFunction"><span class="pre">WebviewPlotFunction</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">change_with</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'parameter'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'uncertainty'</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.dist.DistributionExperiment.register_webview_plot" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.dist.DistributionExperiment.residuals">
<span class="sig-name descname"><span class="pre">residuals</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.dist.DistributionExperiment.residuals" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.dist.DistributionExperiment.restore_data">
<span class="sig-name descname"><span class="pre">restore_data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.dist.DistributionExperiment.restore_data" title="Link to this definition">¶</a></dt>
<dd><p>Restore original data after resynthesis.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.dist.DistributionExperiment.resynth_data">
<span class="sig-name descname"><span class="pre">resynth_data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.dist.DistributionExperiment.resynth_data" title="Link to this definition">¶</a></dt>
<dd><p>Resynthesize data with noise from the uncertainty estimates.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.dist.DistributionExperiment.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">basename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.dist.DistributionExperiment.save" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.dist.DistributionExperiment.save_json">
<span class="sig-name descname"><span class="pre">save_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">basename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.dist.DistributionExperiment.save_json" title="Link to this definition">¶</a></dt>
<dd><p>Save the experiment as a json file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.dist.DistributionExperiment.save_profile">
<span class="sig-name descname"><span class="pre">save_profile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">basename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.dist.DistributionExperiment.save_profile" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.dist.DistributionExperiment.save_refl">
<span class="sig-name descname"><span class="pre">save_refl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">basename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.dist.DistributionExperiment.save_refl" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.dist.DistributionExperiment.simulate_data">
<span class="sig-name descname"><span class="pre">simulate_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">noise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.dist.DistributionExperiment.simulate_data" title="Link to this definition">¶</a></dt>
<dd><p>Simulate a random data set for the model.</p>
<p>This sets R and dR according to the noise level given.</p>
<p><strong>Parameters:</strong></p>
<dl class="simple">
<dt><em>noise</em>: float or array or None | %</dt><dd><p>dR/R uncertainty as a percentage.  If noise is set to None, then
use dR from the data if present, otherwise default to 2%.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.dist.DistributionExperiment.slabs">
<span class="sig-name descname"><span class="pre">slabs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.dist.DistributionExperiment.slabs" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.dist.DistributionExperiment.smooth_profile">
<span class="sig-name descname"><span class="pre">smooth_profile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/dist.html#DistributionExperiment.smooth_profile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.dist.DistributionExperiment.smooth_profile" title="Link to this definition">¶</a></dt>
<dd><p>Compute a density profile for the material</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.dist.DistributionExperiment.step_profile">
<span class="sig-name descname"><span class="pre">step_profile</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/dist.html#DistributionExperiment.step_profile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.dist.DistributionExperiment.step_profile" title="Link to this definition">¶</a></dt>
<dd><p>Compute a scattering length density profile</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.dist.DistributionExperiment.to_dict">
<span class="sig-name descname"><span class="pre">to_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/dist.html#DistributionExperiment.to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.dist.DistributionExperiment.to_dict" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.dist.DistributionExperiment.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.dist.DistributionExperiment.update" title="Link to this definition">¶</a></dt>
<dd><p>Called when any parameter in the model is changed.</p>
<p>This signals that the entire model needs to be recalculated.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.dist.DistributionExperiment.update_composition">
<span class="sig-name descname"><span class="pre">update_composition</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.dist.DistributionExperiment.update_composition" title="Link to this definition">¶</a></dt>
<dd><p>When the model composition has changed, we need to lookup the
scattering factors for the new model.  This is only needed
when an existing chemical formula is modified; new and
deleted formulas will be handled automatically.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="refl1d.dist.DistributionExperiment.webview_plots">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">webview_plots</span></span><a class="headerlink" href="#refl1d.dist.DistributionExperiment.webview_plots" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.dist.DistributionExperiment.write_data">
<span class="sig-name descname"><span class="pre">write_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#refl1d.dist.DistributionExperiment.write_data" title="Link to this definition">¶</a></dt>
<dd><p>Save simulated data to a file</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="refl1d.dist.Weights">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">refl1d.dist.</span></span><span class="sig-name descname"><span class="pre">Weights</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cdf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">truncated</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/dist.html#Weights"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.dist.Weights" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Parameterized distribution for use in DistributionExperiment.</p>
<p>To support non-uniform experiments, we must bin the possible values
for the parameter and compute the theory function for one parameter
value per bin.  The weighted sum of the resulting theory functions
is the value that we compare to the data.</p>
<p>Performing this analysis requires a cumulative density function which
can return the integrated value of the probability density from -inf
to x.  The total density in each bin is then the difference between
the cumulative densities at the edges.  If the distribution is wider
than the range, then the tails need to be truncated and the bins
reweighted to a total density of 1, or the tail density can be added
to the first and last bins.  Weights of zero are not returned.  Note
that if the tails are truncated, this may result in no weights being
returned.</p>
<p>The vector <em>edges</em> contains the bin edges for the distribution.  The
function <em>cdf</em> returns the cumulative density function at the edges.
The <em>cdf</em> function must implement the scipy.stats interface, with
function signature f(x, a1, a2, …, loc=0, scale=1).  The list <em>args</em>
defines the arguments a1, a2, etc.  The underlying parameters are
available as args[i].  Similarly, <em>loc</em> and <em>scale</em> define the
distribution center and width.  Use <em>truncated=False</em> if you want
the distribution tails to be included in the weights.</p>
<p>SciPy distribution D is used by specifying cdf=scipy.stats.D.cdf.
Useful distributions include:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">norm</span>      <span class="n">Gaussian</span> <span class="n">distribution</span><span class="o">.</span>
<span class="n">halfnorm</span>  <span class="n">Right</span> <span class="n">half</span> <span class="n">of</span> <span class="n">a</span> <span class="n">gaussian</span><span class="o">.</span>
<span class="n">triang</span>    <span class="n">Triangle</span> <span class="n">distribution</span> <span class="kn">from</span> <span class="nn">loc</span> <span class="n">up</span> <span class="n">to</span> <span class="n">loc</span><span class="o">+</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">scale</span>
          <span class="ow">and</span> <span class="n">down</span> <span class="n">to</span> <span class="n">loc</span><span class="o">+</span><span class="n">scale</span><span class="o">.</span>  <span class="n">Use</span> <span class="n">loc</span><span class="o">=</span><span class="n">edges</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">scale</span><span class="o">=</span><span class="n">edges</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
          <span class="ow">and</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">]</span> <span class="n">to</span> <span class="n">define</span> <span class="n">a</span> <span class="n">symmetric</span> <span class="n">triangle</span> <span class="ow">in</span> <span class="n">the</span> <span class="nb">range</span>
          <span class="n">of</span> <span class="n">parameter</span> <span class="n">P</span><span class="o">.</span>
<span class="n">uniform</span>   <span class="n">Flat</span> <span class="kn">from</span> <span class="nn">loc</span> <span class="n">to</span> <span class="n">loc</span><span class="o">+</span><span class="n">scale</span><span class="o">.</span> <span class="n">Use</span> <span class="n">loc</span><span class="o">=</span><span class="n">edges</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">scale</span><span class="o">=</span><span class="n">edges</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
          <span class="n">to</span> <span class="n">define</span> <span class="n">P</span> <span class="k">as</span> <span class="n">uniform</span> <span class="n">over</span> <span class="n">the</span> <span class="nb">range</span><span class="o">.</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="refl1d.dist.Weights.parameters">
<span class="sig-name descname"><span class="pre">parameters</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/dist.html#Weights.parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.dist.Weights.parameters" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="refl1d.dist.Weights.to_dict">
<span class="sig-name descname"><span class="pre">to_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/refl1d/dist.html#Weights.to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#refl1d.dist.Weights.to_dict" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>


      </div>
      <div class="bottomnav" role="navigation" aria-label="Bottom">
      
        <p>
        «&#160;&#160;<a href="cheby.html">cheby - Freeform - Chebyshev model</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="errors.html">errors - Plot sample profile uncertainty</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    </div>
  </body>
</html>